"use strict";(self.webpackChunkbigdata_blog=self.webpackChunkbigdata_blog||[]).push([[924],{1234:n=>{n.exports=JSON.parse('{"blogPosts":[{"id":"/Mac M1 Datasophon \u5b89\u88c5","metadata":{"permalink":"/Bigdata_Blog_Website/blog/Mac M1 Datasophon \u5b89\u88c5","editUrl":"https://sophiadata.github.io/Bigdata_Blog_Website/Bigdata_Blog_Website/blog/Mac M1 Datasophon \u5b89\u88c5.md","source":"@site/blog/Mac M1 Datasophon \u5b89\u88c5.md","title":"Mac M1 Datasophon \u5b89\u88c5","description":"\u56fd\u4ea7\u5927\u6570\u636e\u8fd0\u7ef4\u90e8\u7f72\u7cfb\u7edf","date":"2022-11-21T18:41:11.000Z","formattedDate":"2022\u5e7411\u670821\u65e5","tags":[{"label":"\u7ba1\u7406\u5e73\u53f0","permalink":"/Bigdata_Blog_Website/blog/tags/\u7ba1\u7406\u5e73\u53f0"}],"readingTime":5.83,"hasTruncateMarker":true,"authors":[{"name":"skylines","url":"https://github.com/rookiegao"}],"frontMatter":{"authors":[{"name":"skylines","url":"https://github.com/rookiegao"}],"title":"Mac M1 Datasophon \u5b89\u88c5","date":"2022-11-21T18:41:11.000Z","tags":["\u7ba1\u7406\u5e73\u53f0"],"keywords":["Datasophon"],"description":"\u56fd\u4ea7\u5927\u6570\u636e\u8fd0\u7ef4\u90e8\u7f72\u7cfb\u7edf","image":"https://user-images.githubusercontent.com/34996528/203275795-397bdfb2-5510-4764-8948-9655016e8449.png"},"nextItem":{"title":"Flink CDC 2.3.0 Announce","permalink":"/Bigdata_Blog_Website/blog/Flink CDC 2.3.0 Announce"}},"content":"## \u4ec0\u4e48\u662f Datasophon\\n\\nDataSophon \u662f\u81f4\u529b\u4e8e\u81ea\u52a8\u5316\u76d1\u63a7\u3001\u8fd0\u7ef4\u3001\u7ba1\u7406\u5927\u6570\u636e\u57fa\u7840\u7ec4\u4ef6\u548c\u8282\u70b9\u7684\uff0c\u5e2e\u52a9\u60a8\u5feb\u901f\u6784\u5efa\u8d77\u7a33\u5b9a\uff0c\u9ad8\u6548\u7684\u5927\u6570\u636e\u96c6\u7fa4\u670d\u52a1\u3002\\n\\n![img](https://user-images.githubusercontent.com/34996528/203275795-397bdfb2-5510-4764-8948-9655016e8449.png)\\n\\n\x3c!--truncate--\x3e\\n\\n### \u7f51\u7edc\u8981\u6c42\\n\\n\u8981\u6c42\u5404\u673a\u5668\u5404\u7ec4\u4ef6\u6b63\u5e38\u8fd0\u884c\u63d0\u4f9b\u5982\u4e0b\u7684\u7f51\u7edc\u7aef\u53e3\u914d\u7f6e\uff1a\\n\\n| **\u7ec4\u4ef6**                | **\u9ed8\u8ba4\u7aef\u53e3**     |                         **\u8bf4\u660e**                          |\\n| ----------------------- | ---------------- | :-------------------------------------------------------: |\\n| DDHApplicationServer    | 8081\u30012551\u30018586 |  8081 \u4e3ahttp server \u7aef\u53e3\uff0c2551 \u4e3arpc \u901a\u4fe1\u7aef\u53e3\uff0c8586 \u4e3a jmx \u7aef\u53e3  |\\n| WorkerApplicationServer | 2552\u30019100\u30018585 | 2552 rpc \u901a\u4fe1\u7aef\u53e3\uff0c8585 \u4e3a jmx \u7aef\u53e3\uff0c9100 \u4e3a\u4e3b\u673a\u6570\u636e\u91c7\u96c6\u5668\u7aef\u53e3 |\\n| nginx                   | 8888             |                    \u63d0\u4f9b UI \u7aef\u901a\u4fe1\u7aef\u53e3                     |\\n\\n### \u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u8981\u6c42\\n```\\n\u63a8\u8350 Chrome \u4ee5\u53ca\u4f7f\u7528 Chrome \u5185\u6838\u7684\u8f83\u65b0\u7248\u672c\u6d4f\u89c8\u5668\u8bbf\u95ee\u524d\u7aef\u53ef\u89c6\u5316\u64cd\u4f5c\u754c\u9762\u3002\\n```\\n### \u5173\u95ed\u9632\u706b\u5899\\n\\n\u5404\u4e3b\u673a\u9632\u706b\u5899\u9700\u5173\u95ed\u3002\\n\\n### \u914d\u7f6e\u4e3b\u673a host\\n\\n\u5927\u6570\u636e\u96c6\u7fa4\u6240\u6709\u673a\u5668\u9700\u914d\u7f6e\u4e3b\u673a host\u3002\\n\\n\u914d\u7f6e\u4e3b\u673a\u540d\uff1a hostnamectl set-hostname  \u4e3b\u673a\u540d\\n\\n\u914d\u7f6e /etc/hosts \u6587\u4ef6\\n\\n### \u514d\u5bc6\u767b\u5f55\u914d\u7f6e\\n\\n\u90e8\u7f72\u673a\u5668\u4e2d\uff0cDataSophon \u8282\u70b9\u4ee5\u53ca\u5927\u6570\u636e\u670d\u52a1\u4e3b\u8282\u70b9\u4e0e\u4ece\u8282\u70b9\u4e4b\u95f4\u9700\u514d\u5bc6\u767b\u5f55\u3002\\n\\n\u751f\u6210ssh \u79d8\u94a5\uff1a ssh-keygen -m PEM -t rsa \uff0c\u4e00\u8def\u56de\u8f66\u3002\\n\\n\u6267\u884c ssh-copy-id \u76ee\u6807\u4e3b\u673a\u3002\\n\\n### \u73af\u5883\u8981\u6c42\\n\\nJdk\u73af\u5883\u9700\u5b89\u88c5\u3002\u5efa\u8bae mysql \u7248\u672c\u4e3a 5.7.X\uff0c\u5e76\u5173\u95ed ssl\u3002\\n\\n(\u672c\u673a\u4e3a mysql 8)\\n\\n### \u7ec4\u4ef6\u4ecb\u7ecd\\n\\nDDHApplicationServer \u4e3a API \u63a5\u53e3\u5c42\u5373 web \u540e\u7aef\uff0c\u4e3b\u8981\u8d1f\u8d23\u5904\u7406\u524d\u7aef UI \u5c42\u7684\u8bf7\u6c42\u3002\u8be5\u670d\u52a1\u7edf\u4e00\u63d0\u4f9b RESTful api \u5411\u5916\u90e8\u63d0\u4f9b\u8bf7\u6c42\u670d\u52a1\u3002 \\n\\nWorkerApplicationServer \u8d1f\u8d23\u6267\u884c DDHApplicationServer \u53d1\u9001\u7684\u6307\u4ee4\uff0c\u5305\u62ec\u670d\u52a1\u5b89\u88c5\u3001\u542f\u52a8\u3001\u505c\u6b62\u3001\u91cd\u542f\u7b49\u6307\u4ee4\u3002\\n\\n\\n## \u5feb\u901f\u90e8\u7f72\\n\\n### \u90e8\u7f72 mysql \\n\\nmac m1 \u9700\u5c3d\u53ef\u80fd\u5148\u914d\u7f6e\u56fd\u5185 yum \u6e90\u5426\u5219\u5bb9\u6613\u51fa\u9519\u4f8b\u5982\u914d\u7f6e\u534e\u4e3a\u4e91\uff0c\u505a\u597d\u7528\u6237 datasophon \u7528\u6237\u6388\u6743(\u8fdc\u7a0b\u8bbf\u95ee\u7b49\u6743\u9650)\\n\\n\u6ce8\u610f\u9700\u5173\u95ed mysql ssl \u529f\u80fd\u3002\u5728\u90e8\u7f72\u8fc7\u7a0b\u4e2d\uff0c\u90e8\u5206\u7ec4\u4ef6\u4f1a\u6267\u884c sql \u751f\u6210\u5e93\u8868\uff0c\u4e0d\u540c\u73af\u5883\u7684 mysql \u5728\u914d\u7f6e\u4e0a\u5b58\u5728\u5dee\u5f02\uff0c\u53ef\u6839\u636e sql \u6267\u884c\u60c5\u51b5\uff0c\u53d8\u66f4 mysql \u914d\u7f6e\u3002\\n\\n### \u6267\u884c\u6570\u636e\u811a\u672c\\n\\n> mysql 5.7\\n```sql\\nCREATE DATABASE IF NOT EXISTS datasophon DEFAULT CHARACTER SET utf8;\\ngrant all privileges on *.* to datasophon@\\"%\\" identified by \'datasophon\' with grant option;\\nGRANT ALL PRIVILEGES ON *.* TO \'datasophon\'@\'%\';\\nFLUSH PRIVILEGES;\\n```\\n> mysql 8\\n```sql\\ncreate user \'datasophon\'@\\"localhost\\" IDENTIFIED BY \'datasophon\';\\ngrant all on datasophon.* to \\"datasophon\\"@\\"localhost\\" with grant option;\\nFLUSH PRIVILEGES;\\n```\\n\\n\\n\u6267\u884c datasophon-manager \u5b89\u88c5\u76ee\u5f55 sql \u76ee\u5f55\u4e0b datasophon.sql\uff0c\u521b\u5efa\u6570\u636e\u8868\u3002\\n\\n```sql\\nuse datasophon;\\nsource /opt/datasophon-manager-1.0.0/sql/datasophon-1.0.0.sql\\n```\\n\\n## \u5b89\u88c5 nginx\\n\\n\u63d0\u4f9b nginx.conf \u7684 server \u914d\u7f6e\u3002\\n\\nvi /etc/nginx/nginx.conf \\n\\n```\\n server {\\n                listen 8888;# \u8bbf\u95ee\u7aef\u53e3(\u81ea\u884c\u4fee\u6539)\\n                server_name localhost;\\n                #charset koi8-r;\\n                #access_log /var/log/nginx/host.access.log main;\\n                location / {\\n                        root /usr/local/nginx/dist; # \u524d\u7aef\u89e3\u538b\u7684 dist \u76ee\u5f55\u5730\u5740(\u81ea\u884c\u4fee\u6539\uff0c\u6211\u8fd9\u91cc\u662f yum \u76f4\u63a5 install \u4e86\uff0c\u8fd9\u4e2a\u76ee\u5f55\u9700\u8981\u81ea\u5df1\u521b\u5efa)\\n                        index index.html index.html;\\n                }\\n                location /ddh {\\n                        proxy_pass http://hadoop102:8081; # \u63a5\u53e3\u5730\u5740(\u81ea\u884c\u4fee\u6539)\\n                        proxy_set_header Host $host;\\n                        proxy_set_header X-Real-IP $remote_addr;\\n                        proxy_set_header x_real_ipP $remote_addr;\\n                        proxy_set_header remote_addr $remote_addr;\\n                        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\\n                        proxy_http_version 1.1;\\n                        proxy_connect_timeout 4s;\\n                        proxy_read_timeout 30s;\\n                        proxy_send_timeout 12s;\\n                        proxy_set_header Upgrade $http_upgrade;\\n                        proxy_set_header Connection \\"upgrade\\";\\n                }\\n\\n                #error_page 404 /404.html;\\n                # redirect server error pages to the static page /50x.html\\n                #\\n                error_page 500 502 503 504 /50x.html;\\n                location = /50x.html {\\n                        root /usr/share/nginx/html;\\n                }\\n        }\\n```\\n\\n\u5c06 dist.zip \u89e3\u538b\u5230 nginx \u76ee\u5f55\u4e0b\uff0c\u542f\u52a8 nginx (\u524d\u9762\u914d\u7f6e yum \u6e90\u4e4b\u540e\uff0c\u8fd9\u91cc\u5f88\u597d\u5b89\u88c5)\\n\\n## \u4e0b\u8f7dDDP\u90e8\u7f72\u5305\\n\\nDDP\u90e8\u7f72\u5305\u4e0b\u8f7d\u5730\u5740\uff1a\\n\\n\u94fe\u63a5: https://pan.baidu.com/s/1PMtFWOaYYR0X50X1E_618w?pwd=2t8h \u63d0\u53d6\u7801: 2t8h\\n\\n\u5728 /opt/datasophon \u76ee\u5f55\u4e0b\u521b\u5efa\u76ee\u5f55\\n\\n```\\nmkdir -p /opt/datasophon/DDP/packages\\n```\\n\\n\u5c06\u4e0b\u8f7d\u7684\u90e8\u7f72\u5305\u4e0a\u4f20\u5230 /opt/datasophon/DDP/packages \u76ee\u5f55\u4e0b\uff0c\u4f5c\u4e3a\u9879\u76ee\u90e8\u7f72\u5305\u4ed3\u5e93\u5730\u5740\u3002(\u6240\u6709\u5305\u90fd\u4e0a\u4f20\uff0c\u8f6f\u4ef6\u7684 arm \u5305\u5e76\u4e0d\u7279\u6307 arrch64\uff0cjdk \u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u7684<\u9700\u5728 /etc/profile \u914d\u7f6e java_home>\uff0c\u4e5f\u53ef\u4ee5\u7528\u5305\u5185\u7684)\\n\\n![img](https://user-images.githubusercontent.com/34996528/203034308-60047d40-663a-4850-8e02-3bb62895d98e.png)\\n\\n\\n## \u90e8\u7f72 DataSophon\\n\\n### 1 \u90e8\u7f72\u76ee\u5f55\u4ecb\u7ecd\\n\\n\u5728\u5b89\u88c5\u76ee\u5f55\u4e0b\u89e3\u538b datasophon-manager-{version}.tar.gz\uff0c\u89e3\u538b\u540e\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u5b89\u88c5\u76ee\u5f55\uff1a\\n\\n![img](https://user-images.githubusercontent.com/34996528/203034500-d2b91aed-80f3-4aa5-b340-d19fd977f77c.png) \\n\\nbin\uff1a\u542f\u52a8\u811a\u672c git\\n\\nconf\uff1a\u914d\u7f6e\u6587\u4ef6\\n\\nlib\uff1a\u9879\u76ee\u4f9d\u8d56\u7684 jar \u5305\\n\\nlogs: \u9879\u76ee\u65e5\u5fd7\u5b58\u653e\u76ee\u5f55\\n\\njmx\uff1ajmx \u63d2\u4ef6\\n\\n### 2 \u4fee\u6539\u914d\u7f6e\\n\\n\u4fee\u6539 conf \u76ee\u5f55\u4e0b\u7684 application.yml \u914d\u7f6e\u6587\u4ef6\u4e2d\u6570\u636e\u5e93\u94fe\u63a5\u914d\u7f6e\uff1a\\n\\n```\\n  datasource:\\n    type: com.alibaba.druid.pool.DruidDataSource\\n    url: jdbc:mysql://hadoop102:3306/datasophon?useUnicode=true&characterEncoding=utf-8&allowPublicKeyRetrieval=true\\n    username: datasophon\\n    password: datasophon\\n    driver-class-name: com.mysql.cj.jdbc.Driver\\n```\\n\u5c06 mysql 8 \u9a71\u52a8 cp \u81f3 /opt/datasophon/datasophon-manager-1.0.0/lib/\\n\\n### 3 \u542f\u52a8\u670d\u52a1\\n\\n```\\n\u542f\u52a8\uff1ash bin/datasophon-api.sh start api\\n\u505c\u6b62\uff1ash bin/datasophon-api.sh stop api\\n\u91cd\u542f\uff1ash bin/datasophon-api.sh restart api\\n```\\n\\n\u90e8\u7f72\u6210\u529f\u540e\uff0c\u53ef\u4ee5\u8fdb\u884c\u65e5\u5fd7\u67e5\u770b\uff0c\u65e5\u5fd7\u7edf\u4e00\u5b58\u653e\u4e8e logs \u6587\u4ef6\u5939\u5185:\\n\\n logs/\\n\\n  \u251c\u2500\u2500 ddh-api.log\\n\\n  \u251c\u2500\u2500 ddh-api-error.log\\n\\n  |\u2014\u2014 api-{hostname}.out\\n\\n### \u8bbf\u95ee\u9875\u9762\\n\\n\u8bbf\u95ee\u524d\u7aef\u9875\u9762\u5730\u5740,\u63a5\u53e3 ip (\u81ea\u884c\u4fee\u6539) [http://172.16.69.202:8888](http://192.168.xx.xx:12345/dolphinscheduler) \u9ed8\u8ba4\u7528\u6237\u540d\u548c\u5bc6\u7801\u4e3aadmin/admin123\\n\\n![img](https://user-images.githubusercontent.com/34996528/203197828-89280ea2-b4ed-4678-93c6-44537308d10a.png)\\n\\n### \u5b89\u88c5\u670d\u52a1\\n\\n\u521d\u59cb\u5316\u914d\u7f6e\u96c6\u7fa4\u5148\u9009\u62e9\u90e8\u7f72 AlertManager,Grafana \u548c Prometheus \u4e09\u4e2a\u7ec4\u4ef6\u3002DataSophon \u4f9d\u8d56\u6b64\u4e09\u4e2a\u7ec4\u4ef6\u5b9e\u73b0\u7cfb\u7edf\u76d1\u63a7\u544a\u8b66\u7ba1\u7406\u3002\\n\\n\u7136\u540e\u4f18\u5148\u5b89\u88c5 zk(\u9ad8\u53ef\u7528) \u518d\u5b89\u88c5\u5176\u4ed6\u670d\u52a1\\n\\n## \u76ee\u524d\u5b58\u5728\u7684\u95ee\u9898\\n\\n1. \u6587\u6863\u5c1a\u4e0d\u5b8c\u5584\\n2. log \u65e5\u5fd7\u4e0d\u7b97\u9f50\u5168\\n3. \u5de5\u4f5c\u8fdb\u7a0b\u5173\u95ed\u4e0d\u987a\u7545(\u6211\u8fd9\u8fb9\u6d4b\u8bd5\u5173\u95ed\u670d\u52a1\uff0c\u90e8\u5206\u670d\u52a1\u8282\u70b9\u8fd8\u5728\uff0c\u9700\u624b\u52a8 kill \u6389\u3002\u3002\u3002)"},{"id":"/Flink CDC 2.3.0 Announce","metadata":{"permalink":"/Bigdata_Blog_Website/blog/Flink CDC 2.3.0 Announce","editUrl":"https://sophiadata.github.io/Bigdata_Blog_Website/Bigdata_Blog_Website/blog/Flink CDC 2.3.0 Announce.md","source":"@site/blog/Flink CDC 2.3.0 Announce.md","title":"Flink CDC 2.3.0 Announce","description":"Flink CDC 2.3.0 \u8fd1\u671f\u53d1\u5e03","date":"2022-11-18T21:47:11.000Z","formattedDate":"2022\u5e7411\u670818\u65e5","tags":[{"label":"\u6570\u636e\u96c6\u6210","permalink":"/Bigdata_Blog_Website/blog/tags/\u6570\u636e\u96c6\u6210"}],"readingTime":1.855,"hasTruncateMarker":true,"authors":[{"name":"skylines","url":"https://github.com/rookiegao"}],"frontMatter":{"authors":[{"name":"skylines","url":"https://github.com/rookiegao"}],"title":"Flink CDC 2.3.0 Announce","date":"2022-11-18T21:47:11.000Z","tags":["\u6570\u636e\u96c6\u6210"],"keywords":["Fink CDC","Flink"],"description":"Flink CDC 2.3.0 \u8fd1\u671f\u53d1\u5e03"},"prevItem":{"title":"Mac M1 Datasophon \u5b89\u88c5","permalink":"/Bigdata_Blog_Website/blog/Mac M1 Datasophon \u5b89\u88c5"},"nextItem":{"title":"debezium to oracle 11g \u5b9e\u65f6\u540c\u6b65","permalink":"/Bigdata_Blog_Website/blog/debezium to oracle 11g \u5b9e\u65f6\u540c\u6b65"}},"content":"![\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0](https://img-blog.csdnimg.cn/4ac4fbb159234e04acd3b6fe865ce53f.png)\\n\\n\x3c!--truncate--\x3e\\n\\n# \u65b0\u8fde\u63a5\u5668\\n\\n2.3.0 \u65b0\u589e\u4e86 DB2 CDC \u8fde\u63a5\u5668\\n\\n# \u589e\u91cf\u5feb\u7167\u8fce\u6765\u65b0\u7684\u8fde\u63a5\u5668\u6210\u5458\\n\\n2.3.0 \u7248\u672cMongoDB CDC\uff0cOracle CDC \u4e24\u5927\u8fde\u63a5\u5668\u5747\u652f\u6301\u4e86\u589e\u91cf\u5feb\u7167\uff0c\u5b9e\u73b0\u65e0\u9501\u8bfb\u53d6+\u5e76\u53d1\u8bfb\u53d6+\u65ad\u70b9\u7eed\u4f20\\n\\n# \u4f18\u5316\\n\\n2.3.0 \u7248\u672c MySQL CDC \u8fde\u63a5\u5668\u6027\u80fd\u548c\u7a33\u5b9a\u6027\u5927\u5e45\u63d0\u5347\\n\\n# Flink \u652f\u6301\\n\\n2.3.0 \u7248\u672c\u4e00\u53e3\u6c14\u517c\u5bb9\u4e86Flink 1.13 & 1.14 & 1.15 & 1.16 \u56db\u4e2a\u7248\u672c\\n\\n# \u66f4\u591a\u7ec6\u8282\\n\\nMySQL CDC \u652f\u6301\u6307\u5b9a\u4f4d\u70b9/\u6307\u5b9a\u65f6\u95f4\u6233/earliest\u4f4d\u70b9\u542f\u52a8\\n\\nMySQL CDC \u652f\u6301\u5f02\u6b65\u5206\u7247\uff0c\u652f\u6301checkpoint\u671f\u95f4\u5206\u7247\u6682\u505c\\n\\nMySQL CDC \u652f\u6301\u5168\u90e8\u5b57\u7b26\u96c6\uff0c\u652f\u6301\u5bbd\u5bb9\u9ed8\u8ba4\u503c\uff0c\u652f\u6301\u81ea\u52a8\u83b7\u53d6\u6570\u636e\u5e93\u65f6\u533a\\n\\nMySQL CDC JM\u5185\u5b58\u548cTM\u5185\u5b58\u4f18\u5316\uff0cbinlog\u8bfb\u53d6\u6027\u80fd\u4f18\u5316\\n\\nOceanBase CDC \u4fee\u590d\u4e86\u65f6\u533a\u95ee\u9898\uff0c\u652f\u6301\u5168\u7c7b\u578b\u5bf9\u63a5\u5230 Flink SQL\\n\\nMongoDB CDC \u652f\u6301\u4e86\u66f4\u591a\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4f18\u5316\u4e86\u6355\u83b7\u8868\u7684\u7b5b\u9009\u8fc7\u7a0b\\n\\nTiDB CDC \u4fee\u590d\u4e86\u5168\u589e\u91cf\u5207\u6362\u65f6\u6570\u636e\u4e22\u5931\u95ee\u9898\uff0c\u652f\u6301\u8bfb\u53d6\u65f6 region\u5207\u6362\\n\\nPostgres CDC \u652f\u6301\u7684\u66f4\u591a\u7684\u7c7b\u578b\uff0c\u5f00\u653e\u4e86\u66f4\u591a\u914d\u7f6e\u9879\\n\\nSqlServer CDC \u652f\u6301\u4e86\u66f4\u591a\u7684\u7248\u672c\uff0c\u5b8c\u5584\u4e86\u6587\u6863\\n\\nMySQL CDC \u548c OceanBase CDC \u63d0\u4f9b\u4e86\u4e2d\u6587\u6587\u6863\uff0cOceanBase CDC \u63d0\u4f9b\u4e86\u89c6\u9891\u6559\u7a0b\\n\\n\u8be6\u7ec6 release note \u5728\u8fd9\u91cc\uff0c\u53ef\u4ee5\u67e5\u770b\u6240\u6709issue \u7ec6\u8282\\n\\nhttps://github.com/ververica/flink-cdc-connectors/releases\\n\\n\\nFlink cdc \u9489\u9489\u7fa4\\n\\n\u7fa4\u53f7\uff1a33121212\\n\\n\u4e8c\u7ef4\u7801\uff1a\\n![\u626b\u7801\u52a0\u5165](https://user-images.githubusercontent.com/9601882/158350201-a1de35e6-0399-4a91-b5b0-e2fd5d33e33c.png)\\n\\n\u5185\u5bb9\u53c2\u8003 flink cdc \u53d1\u5e03\u7fa4\u516c\u544a\\n\\n\u9e23\u8c22 \u96ea\u5c3d\u8001\u5e08"},{"id":"/debezium to oracle 11g \u5b9e\u65f6\u540c\u6b65","metadata":{"permalink":"/Bigdata_Blog_Website/blog/debezium to oracle 11g \u5b9e\u65f6\u540c\u6b65","editUrl":"https://sophiadata.github.io/Bigdata_Blog_Website/Bigdata_Blog_Website/blog/debezium to oracle 11g \u5b9e\u65f6\u540c\u6b65.md","source":"@site/blog/debezium to oracle 11g \u5b9e\u65f6\u540c\u6b65.md","title":"debezium to oracle 11g \u5b9e\u65f6\u540c\u6b65","description":"\u4f7f\u7528 debezium \u5bf9 oracle \u6570\u636e\u8fdb\u884c\u91c7\u96c6","date":"2021-11-21T09:24:31.000Z","formattedDate":"2021\u5e7411\u670821\u65e5","tags":[{"label":"\u6570\u636e\u96c6\u6210","permalink":"/Bigdata_Blog_Website/blog/tags/\u6570\u636e\u96c6\u6210"}],"readingTime":12.94,"hasTruncateMarker":true,"authors":[{"name":"\u9752\u6da9\u7684\u8292\u679c\u6c41","url":"https://blog.csdn.net/weixin_40898246/article/details/120880414?spm=1001.2014.3001.5501"}],"frontMatter":{"authors":[{"name":"\u9752\u6da9\u7684\u8292\u679c\u6c41","url":"https://blog.csdn.net/weixin_40898246/article/details/120880414?spm=1001.2014.3001.5501"}],"title":"debezium to oracle 11g \u5b9e\u65f6\u540c\u6b65","date":"2021-11-21T09:24:31.000Z","tags":["\u6570\u636e\u96c6\u6210"],"keywords":["Debeziium"],"description":"\u4f7f\u7528 debezium \u5bf9 oracle \u6570\u636e\u8fdb\u884c\u91c7\u96c6"},"prevItem":{"title":"Flink CDC 2.3.0 Announce","permalink":"/Bigdata_Blog_Website/blog/Flink CDC 2.3.0 Announce"},"nextItem":{"title":"Ambari \u5165\u95e8\u53ca\u5b89\u88c5","permalink":"/Bigdata_Blog_Website/blog/Ambari \u5165\u95e8\u53ca\u5b89\u88c5"}},"content":"## \u7b2c1\u7ae0 debezium\u6982\u8ff0\\n\\n### 1.1 debezium\u662f\u4ec0\u4e48\\n\\n Debezium \u662f\u4e00\u7ec4\u5206\u5e03\u5f0f\u670d\u52a1\uff0c\u7528\u4e8e\u6355\u83b7\u6570\u636e\u5e93\u4e2d\u7684\u66f4\u6539\uff0c\u4ee5\u4fbf\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u67e5\u770b\u8fd9\u4e9b\u66f4\u6539\u5e76\u5bf9\u5176\u505a\u51fa\u54cd\u5e94\u3002 Debezium \u5728\u66f4\u6539\u4e8b\u4ef6\u6d41\u4e2d\u8bb0\u5f55\u6bcf\u4e2a\u6570\u636e\u5e93\u8868\u4e2d\u7684\u6240\u6709\u884c\u7ea7\u66f4\u6539\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ea\u9700\u8bfb\u53d6\u8fd9\u4e9b\u6d41\u4ee5\u67e5\u770b\u66f4\u6539\u4e8b\u4ef6\u53d1\u751f\u7684\u76f8\u540c\u987a\u5e8f\u3002\\n \\n\x3c!--truncate--\x3e\\n\\n### 1.2 debezium\u7684\u4f9d\u8d56\\nDebezium \u6784\u5efa\u5728 Apache Kafka \u4e4b\u4e0a\uff0c\u5e76\u63d0\u4f9b\u4e0e Kafka Connect \u517c\u5bb9\u7684\u8fde\u63a5\u5668\uff0c\u7528\u4e8e\u76d1\u63a7\u7279\u5b9a\u7684\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u3002 Debezium \u5728 Kafka \u65e5\u5fd7\u4e2d\u8bb0\u5f55\u6570\u636e\u66f4\u6539\u7684\u5386\u53f2\u8bb0\u5f55\uff0c\u4ece\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u5b83\u4eec\u7684\u4f4d\u7f6e\u3002 \u8fd9\u4f7f\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u8f7b\u677e\u6b63\u786e\u4e14\u5b8c\u6574\u5730\u4f7f\u7528\u6240\u6709\u4e8b\u4ef6\u3002 \u5373\u4f7f\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u610f\u5916\u505c\u6b62\uff0c\u5b83\u4e5f\u4e0d\u4f1a\u9519\u8fc7\u4efb\u4f55\u5185\u5bb9\uff1a\u5f53\u5e94\u7528\u7a0b\u5e8f\u91cd\u65b0\u542f\u52a8\u65f6\uff0c\u5b83\u5c06\u7ee7\u7eed\u4f7f\u7528\u5b83\u505c\u6b62\u7684\u4e8b\u4ef6\u3002\\n\\n## \u7b2c2\u7ae0 \u73af\u5883\u642d\u5efa\\n### 2.1 \u6240\u9700\u8f6f\u4ef6\u53ca\u6d4b\u8bd5\u7248\u672c\\n\\njdk-8u211-linux-x64.tar.gz\\n\\napache-zookeeper-3.5.7-bin.tar.gz\\n\\nkafka_2.11-2.4.0.tgz\\n\\ndebezium-connector-oracle-1.7.0.Final-plugin.tar.gz\\n\\ninstantclient-basic-linux.x64-21.3.0.0.0.zip (oracle\u5ba2\u6237\u7aef)\\n\\noracle 11g R2\\n\\n### 2.2 \u6570\u636e\u5e93\u51c6\u5907\\n\uff081\uff09\u8bbe\u7f6eOracle LogMiner\u6240\u9700\u7684\u914d\u7f6e\\n\\n```\\n[root@tDataAnalysis01 config]# su - oracle\\n[oracle@tDataAnalysis01 config]$ sqlplus / as sysdba\\nSQL> alter system set db_recovery_file_dest_size = 10G;\\nSQL> shutdown immediate;\\nSQL> startup mount;\\nSQL> alter database archivelog;\\nSQL> alter database open;\\n```\\n\uff082\uff09\u4fdd\u8bc1Database log mode\u663e\u793a\u4e3aArchive Mode\\n\\n```\\nSQL> archive log list\\n```\\n\\n\uff083\uff09\u542f\u7528\u8865\u5145\u65e5\u5fd7\u8bb0\u5f55,\uff08\u6240\u6709\u8868\u90fd\u5f97\u6267\u884c\uff0c\u8868\u91cc\u987b\u81f3\u5c11\u4e00\u6761\u6570\u636e\uff09\\n\\n```\\nSQL> ALTER DATABASE add SUPPLEMENTAL LOG DATA ;\\nSQL> ALTER TABLE \u5e93.\u8868 ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;\\n```\\n\\nDebezium Oracle\u8fde\u63a5\u5668\u8981\u6c42\u4f7f\u7528\u7279\u5b9a\u6743\u9650\u8bbe\u7f6e\u7528\u6237\u8d26\u53f7\uff0c\u4ee5\u4fbf\u8fde\u63a5\u5668\u6355\u83b7\u66f4\u591a\u4e8b\u4ef6\u3002\\n\\n```\\nCREATE TABLESPACE logminer_tbs DATAFILE \'/opt/oracle/oradata/ORCLCDB/logminer_tbs.dbf\'\\nSIZE 25M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED;\\n\\nCREATE USER debezium IDENTIFIED BY 123456\\n    DEFAULT TABLESPACE TEST0\\n    QUOTA UNLIMITED ON TEST0;\\n \\n  GRANT CREATE SESSION TO debezium ;\\n  GRANT SELECT ON V_$DATABASE to debezium ;\\n  GRANT FLASHBACK ANY TABLE TO debezium ;\\n  GRANT SELECT ANY TABLE TO debezium ;\\n  GRANT SELECT_CATALOG_ROLE TO debezium ;\\n  GRANT EXECUTE_CATALOG_ROLE TO debezium ;\\n  GRANT SELECT ANY TRANSACTION TO debezium ;\\n\\n  GRANT CREATE TABLE TO debezium ;\\n  GRANT LOCK ANY TABLE TO debezium ;\\n  GRANT ALTER ANY TABLE TO debezium ;\\n  GRANT CREATE SEQUENCE TO debezium ;\\n \\n  GRANT EXECUTE ON DBMS_LOGMNR TO debezium ;\\n  GRANT EXECUTE ON DBMS_LOGMNR_D TO debezium ;\\n \\n  GRANT SELECT ON V_$LOG TO debezium ;\\n  GRANT SELECT ON V_$LOG_HISTORY TO debezium ;\\n  GRANT SELECT ON V_$LOGMNR_LOGS TO debezium ;\\n  GRANT SELECT ON V_$LOGMNR_CONTENTS TO debezium ;\\n  GRANT SELECT ON V_$LOGMNR_PARAMETERS TO debezium ;\\n  GRANT SELECT ON V_$LOGFILE TO debezium ;\\n  GRANT SELECT ON V_$ARCHIVED_LOG TO debezium ;\\n  GRANT SELECT ON V_$ARCHIVE_DEST_STATUS TO debezium ;\\n \\n  exit;\\n```\\n\\n### 2.3\u90e8\u7f72\u8fde\u63a5\u5668\\n\uff081\uff09\u8fdb\u5165\u5230oracle\u5ba2\u6237\u7aef\u76ee\u5f55\u4e2d\uff0c\u5c06xstreams.jar\u548cojbc8.jar\u590d\u5236\u5230kafka lib\u4e0b\uff0c\u5e76\u5206\u53d1\u7ed902\uff0c03\u4e24\u53f0\u673a\u5668\u3002\\n\\n```\\n[root@tDataAnalysis01 ~]# cd /opt/oracle/ instantclient_21_3/\\n[root@tDataAnalysis01 instantclient_21_3]# cp xstreams.jar /opt/module/kafka_2.11-2.4.0/libs/\\n[root@tDataAnalysis01 instantclient_21_3]# cp ojdbc8.jar /opt/module/kafka_2.11-2.4.0/libs/\\n[root@tDataAnalysis01 instantclient_21_3]# scp xstreams.jar tDataAnalysis02:/opt/module/kafka_2.11-2.4.0/libs/\\n[root@tDataAnalysis01 instantclient_21_3]# scp ojdbc8.jar tDataAnalysis02:/opt/module/kafka_2.11-2.4.0/libs/\\n[root@tDataAnalysis01 instantclient_21_3]# scp xstreams.jar tDataAnalysis03:/opt/module/kafka_2.11-2.4.0/libs/\\n[root@tDataAnalysis01 instantclient_21_3]# scp ojdbc8.jar tDataAnalysis03:/opt/module/kafka_2.11-2.4.0/libs/\\n```\\n\\n\uff082\uff09\u589e\u52a0LD_LIBRARY_PATH\u73af\u5883\u53d8\u91cf\uff0c\u6307\u5411oracle client\u8def\u5f84(\u6bcf\u4e2a\u8282\u70b9\u90fd\u914d\u7f6e)\\n\\n```\\n[root@tDataAnalysis01 instantclient_21_3]# vim /etc/profile\\nexport LD_LIBRARY_PATH=/opt/oracle/instantclient_21_3\\n[root@tDataAnalysis01 instantclient_21_3]# source /etc/profile\\n```\\n\\n\uff083\uff09\u521b\u5efakafka plugins\u6587\u4ef6\u5939\\n\\n```\\n[root@tDataAnalysis01 software]# mkdir -p /usr/local/share/kafka/plugins/\\n```\\n\\n\uff084\uff09\u4e0a\u4f20debezium-connector-oracle-1.7.0.Final-plugin.tar.gz\\n\uff0c\u89e3\u538b\u5230kafka plugins\u76ee\u5f55\\n\\n```\\n[root@tDataAnalysis01 software]# tar -zxvf debezium-connector-oracle-1.7.0.Final-plugin.tar.gz -C /usr/local/share/kafka/plugins/\\n```\\n\\n\uff085\uff09\u518d\u6b21\u4fee\u6539kafka\u4e0b\u7684connect-distributed.properties\u6587\u4ef6\uff0c\u6dfb\u52a0plugins\u8def\u5f84\\n\\n```\\n[root@tDataAnalysis01 software]# cd /opt/module/kafka_2.11-2.4.0/config/\\n[root@tDataAnalysis01 config]# vim connect-distributed.properties \\nplugin.path=/usr/local/share/kafka/plugins/\\n```\\n\\n\uff086\uff09\u5206\u53d1plugins\u6587\u4ef6\u5939,\u5206\u53d1connect-distributed.properties\\n\\n```\\n[root@tDataAnalysis01 config]# scp -r /usr/local/share/kafka/  tDataAnalysis02:/usr/local/share/\\n[root@tDataAnalysis01 config]# scp -r /usr/local/share/kafka/  tDataAnalysis03:/usr/local/share/\\n[root@tDataAnalysis01 config]# scp connect-distributed.properties  tDataAnalysis02:/opt/module/kafka_2.11-2.4.0/config/\\n[root@tDataAnalysis01 config]# scp connect-distributed.properties  tDataAnalysis03:/opt/module/kafka_2.11-2.4.0/config/\\n```\\n\\n\uff087\uff09\u542f\u52a8kafka connector\\n\\n```\\n[root@tDataAnalysis01 kafka_2.11-2.4.0]# bin/connect-distributed.sh -daemon config/connect-distributed.properties\\n[root@tDataAnalysis02 kafka_2.11-2.4.0]# bin/connect-distributed.sh -daemon config/connect-distributed.properties\\n[root@tDataAnalysis03 kafka_2.11-2.4.0]# bin/connect-distributed.sh -daemon config/connect-distributed.properties\\n```\\n\\n\uff088\uff09\u67e5\u770b\u8fdb\u7a0b\\n\\n```\\n25010 Kafka\\n25555 ConnectDistributed\\n```\\n\\n\\n\\n## \u7b2c3\u7ae0\u542f\u52a8Debezium\\n\\n### 3.1 \u6d4b\u8bd5\u4efb\u52a1\u542f\u52a8\\n\\n```powershell\\ncurl -H \\"Content-Type: application/json\\" -X POST -d  \'{\\n       \\"name\\" : \\"oracle-connector\\",\\n       \\"config\\" : {\\n           \\"connector.class\\" : \\"io.debezium.connector.oracle.OracleConnector\\",\\n           \\"database.hostname\\" : \\"xxx.xxx.16.53\\",\\n           \\"database.port\\" : \\"1522\\",\\n           \\"database.user\\" : \\"debezium\\",\\n           \\"database.password\\" : \\"123456\\",\\n           \\"database.dbname\\": \\"ORCL\\",\\n           \\"database.server.name\\" : \\"orcl6\\",\\n           \\"database.history.kafka.topic\\" : \\"schema-changes.inventory5\\",\\n           \\"database.history.kafka.bootstrap.servers\\" : \\"tDataAnalysis01:9092,tDataAnalysis02:9092,tDataAnalysis03:9092\\",\\n           \\"snapshot.mode\\" : \\"initial\\",\\n           \\"schema.include.list\\" : \\"c##HAHA123\\",\\n           \\"table.include.list\\" : \\"c##HAHA123.CIRCLE\\",\\n           \\"database.oracle.version\\": \\"11\\", \\n           \\"database.tablename.case.insensitive\\": \\"false\\",\\n           \\"decimal.handling.mode\\" : \\"string\\"\\n }\\n}\' http://tDataAnalysis01:8083/connectors\\n```\\n\\n\\n**\u6d4b\u8bd5\u4efb\u52a1\u8fd9\u91cc\u6211\u4f7f\u7528\u4e86\u521d\u59cb\u5316\u5feb\u7167**\\n\\n\u67e5\u770bkafka topic\\n\\n```bash\\nbin/kafka-topics.sh --bootstrap-server tDataAnalysis01:9092 --list\\nFlinkError\\n__consumer_offsets\\nconnect-oracle-configs\\nconnect-oracle-offsets\\nconnect-oracle-status\\nflumeError\\nmyTest\\norcl6.C__HAHA123.CIRCLE\\nschema-changes.inventory5\\n```\\n\\n\u67e5\u770bconnect\u72b6\u6001\\n\\n```bash\\ncurl -H \\"Accept:application/json\\" tDataAnalysis01:8083/connectors/\\n[\\"oracle-connector\\"][root@tDataAnalysis02 kafka]#\\n```\\n\\n\u63d2\u5165\u6570\u636e\u540e\\n\\n\u6d88\u8d39topic\\n\\n```bash\\nbin/kafka-console-consumer.sh --bootstrap-server tDataAnalysis01:9092 --topic orcl6.C__HAHA123.CIRCLE --from-beginning\\n```\\n\\n\\n\\n\u6570\u636e\u683c\u5f0f\\n\\n```bash\\n{\\n    \\"schema\\": {\\n        \\"type\\": \\"struct\\", \\n        \\"fields\\": [\\n            {\\n                \\"type\\": \\"struct\\", \\n                \\"fields\\": [\\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"SERIALNO\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"FILEPATH\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"PARTID\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"STAFFNO\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"int64\\", \\n                        \\"optional\\": false, \\n                        \\"name\\": \\"io.debezium.time.Timestamp\\", \\n                        \\"version\\": 1, \\n                        \\"field\\": \\"RECORDTIME\\"\\n                    }\\n                ], \\n                \\"optional\\": true, \\n                \\"name\\": \\"orcl6.C__HAHA123.CIRCLE.Value\\", \\n                \\"field\\": \\"before\\"\\n            }, \\n            {\\n                \\"type\\": \\"struct\\", \\n                \\"fields\\": [\\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"SERIALNO\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"FILEPATH\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"PARTID\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"STAFFNO\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"int64\\", \\n                        \\"optional\\": false, \\n                        \\"name\\": \\"io.debezium.time.Timestamp\\", \\n                        \\"version\\": 1, \\n                        \\"field\\": \\"RECORDTIME\\"\\n                    }\\n                ], \\n                \\"optional\\": true, \\n                \\"name\\": \\"orcl6.C__HAHA123.CIRCLE.Value\\", \\n                \\"field\\": \\"after\\"\\n            }, \\n            {\\n                \\"type\\": \\"struct\\", \\n                \\"fields\\": [\\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"version\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"connector\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"name\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"int64\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"ts_ms\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": true, \\n                        \\"name\\": \\"io.debezium.data.Enum\\", \\n                        \\"version\\": 1, \\n                        \\"parameters\\": {\\n                            \\"allowed\\": \\"true,last,false\\"\\n                        }, \\n                        \\"default\\": \\"false\\", \\n                        \\"field\\": \\"snapshot\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"db\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": true, \\n                        \\"field\\": \\"sequence\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"schema\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"table\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": true, \\n                        \\"field\\": \\"txId\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": true, \\n                        \\"field\\": \\"scn\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": true, \\n                        \\"field\\": \\"commit_scn\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": true, \\n                        \\"field\\": \\"lcr_position\\"\\n                    }\\n                ], \\n                \\"optional\\": false, \\n                \\"name\\": \\"io.debezium.connector.oracle.Source\\", \\n                \\"field\\": \\"source\\"\\n            }, \\n            {\\n                \\"type\\": \\"string\\", \\n                \\"optional\\": false, \\n                \\"field\\": \\"op\\"\\n            }, \\n            {\\n                \\"type\\": \\"int64\\", \\n                \\"optional\\": true, \\n                \\"field\\": \\"ts_ms\\"\\n            }, \\n            {\\n                \\"type\\": \\"struct\\", \\n                \\"fields\\": [\\n                    {\\n                        \\"type\\": \\"string\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"id\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"int64\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"total_order\\"\\n                    }, \\n                    {\\n                        \\"type\\": \\"int64\\", \\n                        \\"optional\\": false, \\n                        \\"field\\": \\"data_collection_order\\"\\n                    }\\n                ], \\n                \\"optional\\": true, \\n                \\"field\\": \\"transaction\\"\\n            }\\n        ], \\n        \\"optional\\": false, \\n        \\"name\\": \\"orcl6.C__HAHA123.CIRCLE.Envelope\\"\\n    }, \\n    \\"payload\\": {\\n        \\"before\\": null, \\n        \\"after\\": {\\n            \\"SERIALNO\\": \\"1209\\", \\n            \\"FILEPATH\\": \\"vqrouj\\", \\n            \\"PARTID\\": \\"5606\\", \\n            \\"STAFFNO\\": \\"YTCZ060002\\", \\n            \\"RECORDTIME\\": 1329061915000\\n        }, \\n        \\"source\\": {\\n            \\"version\\": \\"1.7.0.Final\\", \\n            \\"connector\\": \\"oracle\\", \\n            \\"name\\": \\"orcl6\\", \\n            \\"ts_ms\\": 1634660571000, \\n            \\"snapshot\\": \\"false\\", \\n            \\"db\\": \\"ORCL\\", \\n            \\"sequence\\": null, \\n            \\"schema\\": \\"C##HAHA123\\", \\n            \\"table\\": \\"CIRCLE\\", \\n            \\"txId\\": \\"05000300282e0000\\", \\n            \\"scn\\": \\"19202446\\", \\n            \\"commit_scn\\": \\"19202478\\", \\n            \\"lcr_position\\": null\\n        }, \\n        \\"op\\": \\"c\\", \\n        \\"ts_ms\\": 1634631840937, \\n        \\"transaction\\": null\\n    }\\n}\\n```\\n\\n\\n\u5220\u9664connect \\n\\n```bash\\ncurl -v -X DELETE http://tDataAnalysis01:8083/connectors/oracle-connector\\n```\\n\\n\\n\u8bbf\u95ee 8083\u7aef\u53e3\u53ef\u67e5\u770b connect\u72b6\u6001\\n\\n```bash\\ntDataAnalysis03:8083/connectors/oracle-connector/status\\n```\\n\\n\\n### 3.2 Oracle\u5f52\u6863\u65e5\u5fd7\u8fc7\u591a\u89e3\u51b3(\u78c1\u76d8\u5f88\u5927\u53ef\u4ee5\u5ffd\u7565)\\n\\n\u6d4b\u8bd5\u4e2d\u56e0\u4e3a\u65e5\u5fd7\u5199\u5165\u8fc7\u5feb\u95ee\u9898\u5bfc\u81f4\u78c1\u76d8\u88ab\u5199\u6ee1\uff0c\u4f7f\u5f97Oracle\u6570\u636e\u5e93\u6781\u4e0d\u7a33\u5b9a\\n\\n\u65e5\u5fd7\u4e0d\u5141\u8bb8\u7269\u7406\u5220\u9664\uff0c\u5e94\u901a\u8fc7rman target /\\n\\n\u6267\u884c \\n\\n```bash\\ndelete noprompt archivelog until time \'sysdate-1/24\';\\n```\\n\\n\u811a\u672c\u5904\u7406\\n\\n```bash\\n# \u7531\u4e8e\u8fde\u63a5\u5668\u662f\u4f9d\u8d56\u4e8eOracle\u7684\u5f52\u6863\u65e5\u5fd7\u505a\u7684\u5b9e\u65f6\u540c\u6b65\\n# \u5b58\u5728\u5f52\u6863\u65e5\u5fd7\u6491\u7206\u78c1\u76d8\u7684\u95ee\u9898\\n#! /bin/bash\\nexec >> /xxx/oracle/oracle_log/del_arch`date +%F-%H`.log #\u8bb0\u5f55\u811a\u672c\u65e5\u5fd7\\n$ORACLE_HOME/bin/rman target / <<EOF\\n#\u68c0\u67e5\u5f52\u6863\u65e5\u5fd7\\ncrosscheck archivelog all;\\n#\u5220\u9664\u6240\u6709\u8fc7\u671f\u65e5\u5fd7\\ndelete noprompt expired archivelog all;\\n#\u5220\u9664\u4e00\u4e2a\u5c0f\u65f6\u524d\u7684\u5f52\u6863\u65e5\u5fd7\\ndelete noprompt archivelog until time \'sysdate-1/24\';\\nexit;\\nEOF\\n```\\n### 3.3 \u65b0\u589e\u8868\u95ee\u9898\\n\\n#### 3.3.1 \u7b2c\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\\n\\n\u7b2c\u4e00\u6b21\u5b89\u88c5Debezium,\u53ef\u4ee5\u76d1\u63a7\u5230\u6570\u636e\u5e93\u4e2d\u8868\u7684\u521d\u59cb\u8868\uff0c\u4f46\u662f\u540e\u7eed\u518d\u5efa\u8868\u5e76\u4e14\u589e\u52a0SUPPLEMENTAL LOG DATA\uff0cConnector\u662f\u65e0\u6cd5\u6355\u83b7\u5230\u7684\u3002\\n\u89e3\u51b3\u65b9\u6848\uff1a\\n\u518d\u63d0\u4ea4\u4e00\u4e2a\u65b0\u7684connecotr,\u7528\u6765\u76d1\u63a7\u540e\u7eed\u521b\u5efa\u7684\u8868\\n\\n```bash\\ncurl -H \\"Content-Type: application/json\\" -X POST -d  \'{\\n       \\"name\\" : \\"oracle-connector2\\",\\n       \\"config\\" : {\\n           \\"connector.class\\" : \\"io.debezium.connector.oracle.OracleConnector\\",\\n           \\"database.hostname\\" : \\"xxx.xxx.16.53\\",\\n           \\"database.port\\" : \\"1522\\",\\n           \\"database.user\\" : \\"debezium\\",\\n           \\"database.password\\" : \\"123456\\",\\n           \\"database.dbname\\": \\"ORCL\\",\\n           \\"database.server.name\\" : \\"orcl7\\",\\n           \\"database.history.kafka.topic\\" : \\"schema-changes.inventory6\\",\\n           \\"database.history.kafka.bootstrap.servers\\" : \\"tDataAnalysis01:9092,tDataAnalysis02:9092,tDataAnalysis03:9092\\",\\n           \\"snapshot.mode\\" : \\"initial\\",\\n           \\"schema.include.list\\" : \\"c##HAHA123\\",\\n           \\"table.include.list\\" : \\"c##HAHA123.CIRCLE2\\",\\n           \\"database.oracle.version\\": \\"11\\", \\n           \\"database.tablename.case.insensitive\\": \\"false\\",\\n           \\"decimal.handling.mode\\" : \\"string\\"\\n }\\n}\' http://tDataAnalysis01:8083/connectors\\n```\\n\\n\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528\u53c2\u6570table.include.list\u6307\u5b9a\u6240\u9700\u7684\u76d1\u63a7\u7684\u8868\uff0c\u6216\u8005\u4f7f\u7528table.exclude.list\u6307\u5b9a\u4e0d\u9700\u8981\u76d1\u63a7\u7684\u8868\uff0c\u4e8c\u8005\u53ea\u80fd\u9009\u4e00\u4e2a\u4f7f\u7528(\u8fd9\u4e2a\u65b9\u6848\u5b9e\u6d4b\u901a\u8fc7\uff0c\u53ef\u4ee5\u6b63\u5e38\u6536\u6570\u636e)\\n\\n\u67e5\u770b\u8fde\u63a5\u5668\u72b6\u6001\uff1a\\n\\n```bash\\ncurl -H \\"Accept:application/json\\" tDataAnalysis01:8083/connectors/\\n[\\"oracle-connector2\\",\\"oracle-connector\\"][root@tDataAnalysis02 kafka]#\\n```\\n\\n#### 3.3.2\u7b2c\u4e8c\u79cd\u89e3\u51b3\u65b9\u6848\\n\\n*\u6700\u65b0\u6d4b\u8bd5 \u6839\u636e\u793e\u533a\u56de\u590d\\n\\n![\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0](https://img-blog.csdnimg.cn/910a6a1d318d4c11b557b36d2a0a91b0.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6I-c6bifQ29kZXJz,size_20,color_FFFFFF,t_70,g_se,x_16)\\n**\u65b0\u8868\u53ef\u901a\u8fc7\u505c\u6b62\u539f\u6709\u4efb\u52a1\uff0c\u4fee\u6539\u914d\u7f6e\u53c2\u6570\uff0c\u91cd\u65b0\u542f\u52a8\u4efb\u52a1\uff0c\u65e7\u8868\u6570\u636e\u4e0d\u53d7\u5f71\u54cd\uff0c\u5e95\u5c42\u5b58\u6709\u504f\u79fb\u91cf\uff0c\u6570\u636e\u540c\u6b65\u53ef\u4ee5\u8ffd\u6eaf \u5feb\u7167\u65b9\u5f0f\u4e3a schema_only**\\n\\n\u5efa\u8bae\uff1a \u6211\u4eec\u7684oracle\u6570\u636e\u5e93\u672c\u8eab\u6570\u636e\u91cf\u5b58\u50a8\u91cf\u5e94\u8be5\u662f\u4e0d\u5c0f\u7684\uff0c\u6211\u5728\u6d4b\u8bd5\u4e2d\u4e3a\u65b9\u4fbf\u5feb\u7167\u4e3a\u521d\u59cb\u5316\uff0c\u751f\u4ea7\u4e2d\u5efa\u8baeschema_only \u4e3a\u589e\u91cf\u8bfb\u53d6\u4ee5\u907f\u514d\u4efb\u52a1\u957f\u65f6\u95f4\u8fd0\u884c\u9020\u6210\u5931\u8d25\u3002\\n\\n### 3.4 \u6ce8\u610f\u4e8b\u9879\\n\\n#### 3.4.1\u914d\u7f6e Debezium \u4e3b\u9898\\n\\nDebezium \u4f7f\u7528\uff08\u901a\u8fc7 Kafka Connect \u6216\u76f4\u63a5\uff09\u591a\u4e2a\u4e3b\u9898\u6765\u5b58\u50a8\u6570\u636e\u3002 \u8fd9\u4e9b\u4e3b\u9898\u5fc5\u987b\u7531\u7ba1\u7406\u5458\u6216 Kafka \u672c\u8eab\u901a\u8fc7\u542f\u7528\u4e3b\u9898\u7684\u81ea\u52a8\u521b\u5efa\u6765\u521b\u5efa\u3002 \\n\u6709\u4e00\u4e9b\u9002\u7528\u4e8e\u4e3b\u9898\u7684\u9650\u5236\u548c\u5efa\u8bae\uff1a\\n\\n\u6570\u636e\u5e93\u5386\u53f2\u4e3b\u9898\uff08\u9002\u7528\u4e8e MySQL \u548c SQL Server \u7684 Debezium \u8fde\u63a5\u5668\uff09\\n\u65e0\u9650\uff08\u6216\u975e\u5e38\u957f\uff09\u4fdd\u7559\uff08\u65e0\u538b\u7f29\uff01\uff09\\n\u751f\u4ea7\u7684\u590d\u5236\u56e0\u5b50\u81f3\u5c11\u4e3a 3\\n\u5355\u5206\u533a\\n\\n#### 3.4.2\u5176\u4ed6\u4e3b\u9898\\n\\n\u53ef\u9009\u5730\uff0c\u542f\u7528\u65e5\u5fd7\u538b\u7f29\uff08\u5982\u679c\u60a8\u5e0c\u671b\u53ea\u4fdd\u7559\u7ed9\u5b9a\u8bb0\u5f55\u7684\u6700\u540e\u4e00\u4e2a\u66f4\u6539\u4e8b\u4ef6\uff09\uff1b \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5e94\u914d\u7f6e Apache Kafka \u4e2d\u7684 min.compaction.lag.ms \u548c delete.retention.ms \u4e3b\u9898\u7ea7\u522b\u8bbe\u7f6e\uff0c\u4ee5\u4fbf\u6d88\u8d39\u8005\u6709\u8db3\u591f\u7684\u65f6\u95f4\u63a5\u6536\u6240\u6709\u4e8b\u4ef6\u5e76\u5220\u9664\u6807\u8bb0\uff1b \u5177\u4f53\u6765\u8bf4\uff0c\u8fd9\u4e9b\u503c\u5e94\u5927\u4e8e\u60a8\u9884\u671f\u7684\u63a5\u6536\u5668\u8fde\u63a5\u5668\u7684\u6700\u5927\u505c\u673a\u65f6\u95f4\uff0c\u4f8b\u5982 \u66f4\u65b0\u5b83\u4eec\u65f6\\n\u5728\u751f\u4ea7\u4e2d\u590d\u5236\\n\\n#### 3.4.3\u5355\u5206\u533a\\n\\n\u60a8\u53ef\u4ee5\u653e\u5bbd\u5355\u5206\u533a\u89c4\u5219\uff0c\u4f46\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u5904\u7406\u6570\u636e\u5e93\u4e2d\u4e0d\u540c\u884c\u7684\u4e71\u5e8f\u4e8b\u4ef6\uff08\u5355\u884c\u7684\u4e8b\u4ef6\u4ecd\u7136\u662f\u5b8c\u5168\u6709\u5e8f\u7684\uff09\u3002 \u5982\u679c\u4f7f\u7528\u591a\u4e2a\u5206\u533a\uff0cKafka\u9ed8\u8ba4\u4f1a\u901a\u8fc7\u5bf9key\u8fdb\u884chash\u6765\u786e\u5b9a\u5206\u533a\u3002 \u5176\u4ed6\u5206\u533a\u7b56\u7565\u9700\u8981\u4f7f\u7528 SMT \u4e3a\u6bcf\u4e2a\u8bb0\u5f55\u8bbe\u7f6e\u5206\u533a\u53f7\u3002\\n\u6709\u5173\u53ef\u81ea\u5b9a\u4e49\u7684\u4e3b\u9898\u81ea\u52a8\u521b\u5efa\uff08\u81ea Kafka Connect 2.6.0 \u8d77\u53ef\u7528\uff09\uff0c\u8bf7\u53c2\u9605\u81ea\u5b9a\u4e49\u4e3b\u9898\u81ea\u52a8\u521b\u5efa\\n\\n**\u5b98\u7f51\u5bf9\u4e8e\u6570\u636e\u5e93\u5386\u53f2\u4e3b\u9898\u867d\u53ea\u63d0\u5230MySQL\uff0cSQL server\uff0c\u4f46\u662f\u5b9e\u9645\u6d4b\u8bd5\u4e2d\u5982\u679cschema-changes.inventory5 \u4e3b\u9898\u88ab\u8bef\u5220\uff0cconnect\u5c06\u62a5\u9519\uff0c\u53ea\u6709\u5c06ddl\u8bed\u53e5\u91cd\u65b0\u63d2\u5165\u8fdb\u53bb\uff0c\u624d\u53ef\u4ee5\u6062\u590d\u6b63\u5e38\uff0c\u4e14oracle \u8fde\u63a5\u5668\u5feb\u7167\u76ee\u524d\u53ea\u652f\u6301schema_only\uff0cinitial \u3002\u4e34\u65f6\u5feb\u7167\u548c\u589e\u91cf\u5feb\u7167\u5c1a\u5728\u5b75\u5316\u4e2d**\\n\\n#### 3.4.4\u5173\u4e8e\u5bf9oracle \u6570\u636e\u5e93\u538b\u529b\u7684\u95ee\u9898\\n\\n\\n![\u793e\u533a\u5927\u4f6c\u7684\u56de\u590d](https://img-blog.csdnimg.cn/286d681d969542f88248bd3c5e622794.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6I-c6bifQ29kZXJz,size_20,color_FFFFFF,t_70,g_se,x_16)\\n\\n### 3.5 \u9519\u8bef\u5904\u7406\\n\\n\u5982\u51fa\u73b0\u4e0d\u80fd\u8bc6\u522boracle\u7248\u672c\u6216\u5176\u4ed6\u9519\u8bef\uff0c\u8bf7\u524d\u5f80xx01(post\u8bf7\u6c42\u540e\u7f00\u4e3a01)\u8282\u70b9\u6240\u5728Kafka logs\u76ee\u5f55\\n\u6267\u884c\\n\\n```bash\\ntail -200 connectDistributed.out\\n```\\n\\n\\n\u67e5\u770b\u5177\u4f53\u65e5\u5fd7\\n\\n#### 3.5.1\u4e0d\u80fd\u8bc6\u522bjdbc\u9a71\u52a8\uff1f\\n\\n\u5148\u53bb\u770boracle\u914d\u7f6e\uff0c\u786e\u4fddhost\uff0cport\uff0csid\u7b49\u65e0\u8bef\uff0c\u53e6\u5916\u5224\u65adojdbc8.jar\u662f\u5426\u88ab\u8bc6\u522b\u5230\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u91cd\u542fKafka \u4ee5\u53caKafka connect \u6216\u76f4\u63a5\u65b0\u88c5\u4e00\u5957Kafka\u96c6\u7fa4\u8fdb\u884c\u9a8c\u8bc1\u3002\\n\\n#### 3.5.2 Kafka\u4ee5\u53caKafka connect\u91cd\u542f\u95ee\u9898\\n\\nKafka(\u66b4\u529b\u6740\u6b7b\uff0c\u91cd\u542f\u4f1a\u6709\u51b2\u7a81) \u4e0d\u5141\u8bb8kill -9 \u6740\u6389\u8fdb\u7a0b \u5e94\u4f7f\u7528\u547d\u4ee4\u505c\u6b62\uff0cKafka\u901a\u5e38\u5173\u95ed\u8f83\u6162\uff0c\u786e\u8ba4\u96c6\u7fa4Kafka\u5173\u95ed\u540e\u518d\u91cd\u542f \u5404\u4e2a\u8282\u70b9\u6267\u884c\u505c\u6b62\u6216\u91cd\u542f\uff0ccdh\u7248\u5728\u63a7\u5236\u53f0\u542f\u505c\u5373\u53ef\u3002\\n\\n```bash\\n/opt/module/kafka/bin/kafka-server-stop.sh -daemon /opt/module/kafka/config/server.properties\\n```\\n\\n\u5982\u9700\u91cd\u542f Kafka connect\u670d\u52a1\\nKafka connect kill -9 \u6740\u6389\u6240\u6709\u8282\u70b9\u5373\u53ef\\n\u542f\u52a8\u547d\u4ee4\\n\\n```bash\\n/opt/module/kafka/bin/connect-distributed.sh -daemon /opt/module/kafka/config/connect-distributed.properties \\n```\\n\\n\\n\\n## \u53c2\u8003\\n\\n[https://debezium.io/documentation/reference/1.7/connectors/oracle.html#oracle-overview](https://debezium.io/documentation/reference/1.7/connectors/oracle.html#oracle-overview%20%20%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8BOracle%E5%AE%9E%E6%97%B6%E5%90%8C%E6%AD%A5%E6%96%B9%E6%A1%88.doc%20%28debezium%20to%20oracle%2019%20c%29%20%20https://blog.51cto.com/tiany/1552783%20%20https://www.codeleading.com/article/64945986138/%20%20https://my.oschina.net/dacoolbaby/blog/4320036%20%20https://my.oschina.net/dacoolbaby/blog/3191882%20%20https://www.cnblogs.com/yaowentao/p/14944739.html)\\n\\n\u5c1a\u7845\u8c37\u5927\u6570\u636e\u6280\u672f\u4e4bOracle\u5b9e\u65f6\u540c\u6b65\u65b9\u6848.doc (debezium to oracle 19 c)\\n\\n[https://blog.51cto.com/tiany/1552783](https://blog.51cto.com/tiany/1552783)\\n\\n[https://www.codeleading.com/article/64945986138/](https://www.codeleading.com/article/64945986138/)\\n\\n[https://my.oschina.net/dacoolbaby/blog/4320036](https://my.oschina.net/dacoolbaby/blog/4320036)\\n\\n[https://my.oschina.net/dacoolbaby/blog/3191882](https://my.oschina.net/dacoolbaby/blog/3191882)\\n\\n[https://www.cnblogs.com/yaowentao/p/14944739.html](https://www.cnblogs.com/yaowentao/p/14944739.html)"},{"id":"/Ambari \u5165\u95e8\u53ca\u5b89\u88c5","metadata":{"permalink":"/Bigdata_Blog_Website/blog/Ambari \u5165\u95e8\u53ca\u5b89\u88c5","editUrl":"https://sophiadata.github.io/Bigdata_Blog_Website/Bigdata_Blog_Website/blog/Ambari \u5165\u95e8\u53ca\u5b89\u88c5.md","source":"@site/blog/Ambari \u5165\u95e8\u53ca\u5b89\u88c5.md","title":"Ambari \u5165\u95e8\u53ca\u5b89\u88c5","description":"\u4f7f\u7528 Ambari \u5bf9 apache \u6846\u67b6\u8fdb\u884c\u7ba1\u7406","date":"2020-11-07T18:11:11.000Z","formattedDate":"2020\u5e7411\u67087\u65e5","tags":[{"label":"\u7ba1\u7406\u5e73\u53f0","permalink":"/Bigdata_Blog_Website/blog/tags/\u7ba1\u7406\u5e73\u53f0"}],"readingTime":17.495,"hasTruncateMarker":true,"authors":[{"name":"\u9752\u6da9\u7684\u8292\u679c\u6c41","url":"https://blog.csdn.net/weixin_40898246/article/details/109175222?spm=1001.2014.3001.5501"}],"frontMatter":{"authors":[{"name":"\u9752\u6da9\u7684\u8292\u679c\u6c41","url":"https://blog.csdn.net/weixin_40898246/article/details/109175222?spm=1001.2014.3001.5501"}],"title":"Ambari \u5165\u95e8\u53ca\u5b89\u88c5","date":"2020-11-07T18:11:11.000Z","tags":["\u7ba1\u7406\u5e73\u53f0"],"keywords":["Ambari"],"description":"\u4f7f\u7528 Ambari \u5bf9 apache \u6846\u67b6\u8fdb\u884c\u7ba1\u7406"},"prevItem":{"title":"debezium to oracle 11g \u5b9e\u65f6\u540c\u6b65","permalink":"/Bigdata_Blog_Website/blog/debezium to oracle 11g \u5b9e\u65f6\u540c\u6b65"}},"content":"## \u4ec0\u4e48\u662f Ambari\\n\\nApache Ambari \u9879\u76ee\u65e8\u5728\u901a\u8fc7\u5f00\u53d1\u7528\u4e8e\u914d\u7f6e\uff0c\u7ba1\u7406\u548c\u76d1\u63a7 Apache Hadoop \u96c6\u7fa4\u7684\u8f6f\u4ef6\u6765\u7b80\u5316 Hadoop \u7ba1\u7406\u3002Ambari \u63d0\u4f9b\u4e86\u4e00\u4e2a\u76f4\u89c2\uff0c\u6613\u7528\u7684 Hadoop \u7ba1\u7406 Web UI\u3002\\n\\n\x3c!--truncate--\x3e\\n\\n## Ambari \u7684\u529f\u80fd\\n\\n\u63d0\u4f9b\u4e86\u8de8\u4efb\u610f\u6570\u91cf\u7684\u4e3b\u673a\u5b89\u88c5 Hadoop \u670d\u52a1\u7684\u5206\u6b65\u5411\u5bfc\u3002\\n\\n\u5904\u7406\u7fa4\u96c6\u7684 Hadoop \u670d\u52a1\u914d\u7f6e\u3002\\n\\n\u63d0\u4f9b\u96c6\u4e2d\u7ba1\u7406\uff0c\u7528\u4e8e\u5728\u6574\u4e2a\u96c6\u7fa4\u4e2d\u542f\u52a8\uff0c\u505c\u6b62\u548c\u91cd\u65b0\u914d\u7f6e Hadoop \u670d\u52a1\u3002\\n\\n\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4eea\u8868\u677f\uff0c\u7528\u4e8e\u76d1\u63a7 Hadoop \u96c6\u7fa4\u7684\u8fd0\u884c\u72b6\u51b5\u548c\u72b6\u6001\u3002\\n\\n\u5229\u7528 Ambari \u6307\u6807\u7cfb\u7edf\u8fdb\u884c\u6307\u6807\u6536\u96c6\u3002\\n\\n\u5229\u7528 Ambari Alert Framework \u8fdb\u884c\u7cfb\u7edf\u8b66\u62a5\uff0c\u5e76\u5728\u9700\u8981\u60a8\u6ce8\u610f\u65f6\u901a\u77e5\u60a8\uff08\u4f8b\u5982\uff0c\u8282\u70b9\u51fa\u73b0\u6545\u969c\uff0c\u5269\u4f59\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\u7b49\uff09\u3002\\n\\n# \u73af\u5883\u51c6\u5907\\n\\n\u6ce8\u610f\uff1a\u4ee5\u4e0b\u64cd\u4f5c\u4e09\u53f0\u673a\u5668\u90fd\u9700\u8981\u8fdb\u884c\\n\\n## \u865a\u62df\u673a\u51c6\u5907\\n\\n\\n\u514b\u9686\u4e09\u53f0\u865a\u62df\u673a\uff08hadoop102\u3001hadoop103\u3001hadoop104\uff09\uff0c\u914d\u7f6e\u597d\u5bf9\u5e94\u4e3b\u673a\u7684\u7f51\u7edc IP\u3001\u4e3b\u673a\u540d\u79f0\u3001\u5173\u95ed\u9632\u706b\u5899\u3002\\n\\n\\n```\\n[root@hadoop102 ~]# chkconfig iptables off\\n[root@hadoop102 ~]# service iptables stop\\n[root@hadoop102 ~]# chkconfig --list iptables\\niptables        0:\u5173\u95ed  1:\u5173\u95ed  2:\u5173\u95ed  3:\u5173\u95ed  4:\u5173\u95ed  5:\u5173\u95ed  6:\u5173\u95ed\\n\\n```\\n\\n## \u5173\u95ed SELINUX\\n```\\n[root@hadoop102 ~]# vim /etc/sysconfig/selinux\\n```\\n\u5c06 SELINUX=enforcing \u6539\u4e3a SELINUX=disabled\\n\u6267\u884c\u8be5\u547d\u4ee4\u540e\u91cd\u542f\u673a\u5668\u751f\u6548\\n\\n## \u5b89\u88c5 JDK\\n\\n1\uff09\u5728 hadoop102 \u7684 /opt \u76ee\u5f55\u4e0b\u521b\u5efa module \u548c software \u6587\u4ef6\u5939\\n\\n```\\n[root@hadoop102 opt]# mkdir module\\n[root@hadoop102 opt]# mkdir software\\n\\n```\\n2\uff09\u7528 SecureCRT \u5c06 jdk-8u144-linux-x64.tar.gz \u5bfc\u5165\u5230 hadoop102 \u7684 /opt/software \u76ee\u5f55\u4e0b\\n3\uff09\u5728 Linux \u7cfb\u7edf\u4e0b\u7684 opt \u76ee\u5f55\u4e2d\u67e5\u770b\u8f6f\u4ef6\u5305\u662f\u5426\u5bfc\u5165\u6210\u529f\\n\\n```\\n[root@hadoop102 software]$ ls\\njdk-8u144-linux-x64.tar.gz\\n\\n```\\n\\n4\uff09\u89e3\u538b JDK \u5230 /opt/module \u76ee\u5f55\u4e0b\\n\\n```\\n[root@hadoop102 software]$ tar -zxvf jdk-8u144-linux-x64.tar.gz -C /opt/module/\\n```\\n\\n5\uff09\u914d\u7f6e JDK \u73af\u5883\u53d8\u91cf\\n\\n\uff081\uff09\u5148\u83b7\u53d6 JDK \u8def\u5f84\\n\\n```\\n[root@hadoop102 jdk1.8.0_144]$ pwd\\n/opt/module/jdk1.8.0_144\\n\\n```\\n\uff082\uff09\u6253\u5f00 /etc/profile \u6587\u4ef6\\n```\\n[root@hadoop102 software]$ vi /etc/profile\\n```\\n\u5728 profile \u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0JDK\u8def\u5f84\\n```\\n#JAVA_HOME\\nexport JAVA_HOME=/opt/module/jdk1.8.0_144\\nexport PATH=$PATH:$JAVA_HOME/bin\\n```\\n\uff083\uff09\u4fdd\u5b58\u540e\u9000\u51fa\\n\\n```\\n:wq\\n```\\n\\n\uff084\uff09\u8ba9\u4fee\u6539\u540e\u7684\u6587\u4ef6\u751f\u6548\\n\\n```\\n[root@hadoop102 jdk1.8.0_144]$ source /etc/profile\\n```\\n\\n6\uff09\u6d4b\u8bd5 JDK \u662f\u5426\u5b89\u88c5\u6210\u529f\\n\\n```\\n[root@hadoop102 jdk1.8.0_144]# java -version\\njava version \\"1.8.0_144\\"\\n\\n```\\n\\n7\uff09\u5c06 hadoop102 \u4e2d\u7684 JDK \u548c\u73af\u5883\u53d8\u91cf\u5206\u53d1\u5230 hadoop103\u3001hadoop104 \u4e24\u53f0\u4e3b\u673a\\n\\n```\\n[root@hadoop102 opt]# xsync /opt/module/\\n[root@hadoop102 opt]# xsync /etc/profile\\n\\n\u5206\u522b\u5728hadoop103\u3001hadoop104\u4e0asource\u4e00\u4e0b\\n[root@hadoop103 ~]$ source /etc/profile\\n[root@hadoop104 ~]# source /etc/profile\\n\\n```\\n\\n## SSH\u514d\u5bc6\u767b\u5f55\\n\\n\u914d\u7f6e hadoop102 \u5bf9 hadoop102\u3001hadoop103\u3001hadoop104 \u4e09\u53f0\u4e3b\u673a\u7684\u514d\u5bc6\u767b\u9646\u3002\\n\\n1\uff09\u751f\u6210\u516c\u94a5\u548c\u79c1\u94a5\uff1a\\n\\n```\\n[root@hadoop102 .ssh]$ ssh-keygen -t rsa\\n```\\n\u7136\u540e\u6572\uff08\u4e09\u4e2a\u56de\u8f66\uff09\uff0c\u5c31\u4f1a\u751f\u6210\u4e24\u4e2a\u6587\u4ef6 id_rsa\uff08\u79c1\u94a5\uff09\u3001id_rsa.pub\uff08\u516c\u94a5\uff09\\n\\n2\uff09\u5c06\u516c\u94a5\u62f7\u8d1d\u5230\u8981\u514d\u5bc6\u767b\u5f55\u7684\u76ee\u6807\u673a\u5668\u4e0a\\n\\n```\\n[root@hadoop102 .ssh]$ ssh-copy-id hadoop102\\n[root@hadoop102 .ssh]$ ssh-copy-id hadoop103\\n[root@hadoop102 .ssh]$ ssh-copy-id hadoop104\\n\\n```\\n## \u4fee\u6539 yum \u6e90\u4e3a\u963f\u91cc\u4e91\u955c\u50cf\\n\\n```\\n[root@hadoop102 yum.repos.d]# mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bk\\n\\n[root@hadoop102 yum.repos.d]# wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo\\n\\n//\u628a\u670d\u52a1\u5668\u7684\u5305\u4e0b\u8f7d\u5230\u672c\u5730\u7f13\u5b58\\n[root@hadoop102 yum.repos.d]# yum makecache\\n\\n```\\n## \u5b89\u88c5 ntp\\n\\n```\\n[root@hadoop102 ~]# yum install -y ntp\\n[root@hadoop102 ~]# chkconfig --list ntpd\\n[root@hadoop102 ~]# chkconfig ntpd on\\n[root@hadoop102 ~]# service ntpd start\\n\\n```\\n## \u5173\u95ed Linux \u7684 THP \u670d\u52a1\\n\\n\u5982\u679c\u4e0d\u5173\u95ed transparent_hugepage\uff0cHDFS \u4f1a\u56e0\u4e3a\u8fd9\u4e2a\u6027\u80fd\u4e25\u91cd\u53d7\u5f71\u54cd\u3002\\n\u5173\u95ed transparent_hugepage \u65b9\u6cd5\u662f\uff1a\\n\\n```\\n[root@hadoop102 ~]# vim /etc/grub.conf \\n\u6dfb\u52a0 transparent_hugepage=never\\n\\n[root@hadoop102 ~]# \\tvim /etc/rc.local\\n\\n\u6dfb\u52a0\uff1a\\nif test -f /sys/kernel/mm/transparent_hugepage/defrag; then\\n  echo never > /sys/kernel/mm/transparent_hugepage/defrag\\nfi\\nif test -f /sys/kernel/mm/transparent_hugepage/enabled; then\\n  echo never > /sys/kernel/mm/transparent_hugepage/enabled\\nfi\\nexit 0\\n\\n```\\n\u91cd\u542f\u4e4b\u540e\uff0c\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u68c0\u67e5\uff1a\\n\\n```\\n[root@hadoop102 yum.repos.d]# \\ncat /sys/kernel/mm/redhat_transparent_hugepage/enabled\\n\\nalways madvise [never]\\n\\n```\\n\\n\u6709 [never] \u5219\u8868\u793a THP \u88ab\u7981\u7528\\n\\n## \u914d\u7f6e UMASK\\n\\n\u8bbe\u5b9a\u7528\u6237\u6240\u521b\u5efa\u76ee\u5f55\u7684\u521d\u59cb\u6743\u9650\\n\\n```\\n\\n[root@hadoop102 ~]# umask 0022\\n\\n```\\n\\n## \u7981\u6b62\u79bb\u7ebf\u66f4\u65b0\\n```\\nvim /etc/yum/pluginconf.d/refresh-packagekit.conf\\n```\\n\u4fee\u6539\uff1aenabled=0\\n\\n# \u5b89\u88c5 Ambari \u96c6\u7fa4\\n\\n\u6ce8\u610f\uff1a\u4ee5\u4e0b\u64cd\u4f5c\u4e3b\u8282\u70b9\u64cd\u4f5c\u5373\u53ef\\n\\n## \u5236\u4f5c\u672c\u5730\u6e90\\n\\n\u5236\u4f5c\u672c\u5730\u6e90\u662f\u56e0\u4e3a\u5728\u7ebf\u5b89\u88c5Ambari\u592a\u6162\u3002\u5236\u4f5c\u672c\u5730\u6e90\u53ea\u9700\u5728\u4e3b\u8282\u70b9\u4e0a\u8fdb\u884c\u3002\\n\\n###  \u914d\u7f6e HTTPD \u670d\u52a1\\n\\n\u914d\u7f6e HTTPD \u670d\u52a1\u5230\u7cfb\u7edf\u5c42\u4f7f\u5176\u968f\u7cfb\u7edf\u81ea\u52a8\u542f\u52a8\\n\\n```\\n[root@hadoop102 ~]# chkconfig httpd on\\n[root@hadoop102 ~]# service httpd start\\n\\n```\\n\\n### \u5b89\u88c5\u5de5\u5177\\n\\n\u5b89\u88c5\u672c\u5730\u6e90\u5236\u4f5c\u76f8\u5173\u5de5\u5177\\n\\n```\\n[root@hadoop102 ~]# yum install yum-utils createrepo yum-plugin-priorities -y\\n[root@hadoop102 ~]# vim /etc/yum/pluginconf.d/priorities.conf\\n\\n```\\n\u6dfb\u52a0 gpgcheck=0\\n\\n### \u5c06\u4e0b\u8f7d\u7684 3 \u4e2a tar\u5305 \u89e3\u538b\\n\\n```\\n[root@hadoop102 software]# tar -zxvf /opt/software/ambari-2.5.0.3-centos6.tar.gz -C /var/www/html/\\n\\n[root@hadoop102 software]mkdir /var/www/html/hdp\\n[root@hadoop102 software]# tar -zxvf /opt/software/HDP-2.6.0.3-centos6-rpm.tar.gz -C /var/www/html/hdp\\n\\n[root@hadoop102 software]# tar -zxvf /opt/software/HDP-UTILS-1.1.0.21-centos6.tar.gz -C /var/www/html/hdp\\n\\n```\\n### \u521b\u5efa\u672c\u5730\u6e90\\n\\n```\\n[root@hadoop102 software]# cd /var/www/html/\\n[root@hadoop102 html]# createrepo  ./\\n\\n```\\n### \u5c06 Ambari \u5b58\u50a8\u5e93\u6587\u4ef6\u4e0b\u8f7d\u5230\u5b89\u88c5\u4e3b\u673a\u4e0a\u7684\u76ee\u5f55\u4e2d\\n\\n```\\n[root@hadoop102 yum.repos.d]# wget -nv http://public-repo-1.hortonworks.com/ambari/centos6/2.x/updates/2.6.1.5/ambari.repo -O /etc/yum.repos.d/ambari.repo\\n```\\n\\n###  \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u914d\u7f6e\u4e3a\u672c\u5730\u6e90\\n\\n\u4fee\u6539 ambari.repo\uff0c\u914d\u7f6e\u4e3a\u672c\u5730\u6e90\\n\\n```\\n[root@hadoop102 html]# vim /etc/yum.repos.d/ambari.repo\\n\\n#VERSION_NUMBER=2.6.1.5-3\\n[ambari-2.6.1.5]\\nname=ambari Version - ambari-2.6.1.5\\nbaseurl=http://hadoop102/ambari/centos6/\\ngpgcheck=0\\ngpgkey=http://hadoop102/ambari/centos6/RPM-GPG-KEY/RPM-GPG-KEY-Jenkins\\nenabled=1\\npriority=1\\n\\n```\\n\\n\u4fee\u6539 hdp-util.repo\uff0c\u914d\u7f6e\u4e3a\u672c\u5730\u6e90\\n\\n```\\n[root@hadoop102 hdp]# vim /var/www/html/hdp/hdp-util.repo\\n[HDP-UTILS-1.1.0.21]\\nname=Hortonworks Data Platform Version - HDP-UTILS-1.1.0.21\\nbaseurl=http://hadoop102/hdp/\\ngpgcheck=0\\nenabled=1\\npriority=1\\n\\n```\\n\u4fee\u6539 hdp.repo\uff0c\u914d\u7f6e\u4e3a\u672c\u5730\u6e90\\n\\n```\\n[root@hadoop102 centos6]# \\nvim /var/www/html/hdp/HDP/centos6/hdp.repo\\n\\n#VERSION_NUMBER=2.6.0.3-8\\n[HDP-2.6.0.3]\\nname=HDP Version - HDP-2.6.0.3\\nbaseurl=http://hadoop102/hdp/HDP/centos6/\\ngpgcheck=0\\ngpgkey=http://hadoop102/hdp/HDP/centos6/RPM-GPG-KEY/RPM-GPG-KEY-Jenkins\\nenabled=1\\npriority=1\\n\\n\\n[HDP-UTILS-1.1.0.21]\\nname=HDP-UTILS Version - HDP-UTILS-1.1.0.21\\nbaseurl=http://hadoop102/hdp/\\ngpgcheck=0\\ngpgkey=http://hadoop102/hdp/RPM-GPG-KEY/RPM-GPG-KEY-Jenkins\\nenabled=1\\npriority=1\\n\\n[root@hadoop102 ~]# yum clean all\\n[root@hadoop102 ~]# yum makecache\\n\\n\u67e5\u770b\u662f\u5426\u6709 Ambari\\n[root@hadoop102 ~]# yum repolist\\n\\n```\\n\\n\u67e5\u770b Ambari \u4e0e HDP \u8d44\u6e90\u7684\u8d44\u6e90\u5e93\u3002\\n\u4e5f\u53ef\u4ee5\u6253\u5f00\u6d4f\u89c8\u5668\u67e5\u770b\u4e00\u4e0b\uff1a\\nhttp://hadoop102/ambari/centos6/\\nhttp://hadoop102/hdp/HDP/centos6/\\nhttp://hadoop102/hdp/\\n\\n## \u5b89\u88c5 MySQL\\n\\nAmbari\u4f7f\u7528\u7684\u9ed8\u8ba4\u6570\u636e\u5e93\u662fPostgreSQL\uff0c\u7528\u4e8e\u5b58\u50a8\u5b89\u88c5\u5143\u6570\u636e\uff0c\u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u5b89\u88c5MySQL\u6570\u636e\u5e93\u4f5c\u4e3aAmbari\u5143\u6570\u636e\u5e93\u3002\\n\u6ce8\u610f\uff1a\u4e00\u5b9a\u8981\u7528root\u7528\u6237\u64cd\u4f5c\u5982\u4e0b\u6b65\u9aa4\uff1b\u5148\u5378\u8f7dMySQL\u518d\u5b89\u88c5\\n\\n1\uff09\u5b89\u88c5\u5305\u51c6\u5907\\n\\t\uff081\uff09\u67e5\u770b MySQL \u662f\u5426\u5b89\u88c5\\n```\\n[root@hadoop102 \u684c\u9762]# rpm -qa|grep mysql\\nmysql-libs-5.1.73-7.el6.x86_64\\n\\n```\\n\uff082\uff09\u5982\u679c\u5b89\u88c5\u4e86 MySQL\uff0c\u5c31\u5148\u5378\u8f7d\\n```\\n[root@hadoop102 \u684c\u9762]# rpm -e --nodeps mysql-libs-5.1.73-7.el6.x86_64\\n```\\n\\n\uff083\uff09\u89e3\u538b mysql-libs.zip \u6587\u4ef6\u5230\u5f53\u524d\u76ee\u5f55\\n\\n```\\n[root@hadoop102 software]# unzip mysql-libs.zip\\n[root@hadoop102 software]# ls\\nmysql-libs.zip\\nmysql-libs\\n\\n```\\n\\n\uff084\uff09\u8fdb\u5165\u5230 mysql-libs \u6587\u4ef6\u5939\u4e0b\\n\\n```\\n [root@hadoop102 mysql-libs]# ll\\n\u603b\u7528\u91cf 76048\\n-rw-r--r--. 1 root root 18509960 3\u6708  26 2015 MySQL-client-5.6.24-1.el6.x86_64.rpm\\n-rw-r--r--. 1 root root  3575135 12\u6708  1 2013 mysql-connector-java-5.1.27.tar.gz\\n-rw-r--r--. 1 root root 55782196 3\u6708  26 2015 MySQL-server-5.6.24-1.el6.x86_64.rpm\\n\\n```\\n2\uff09\u5b89\u88c5 MySQL \u670d\u52a1\u5668\\n\\n\\n\uff081\uff09\u5b89\u88c5 MySQL \u670d\u52a1\u7aef\\n```\\n[root@hadoop102 mysql-libs]# rpm -ivh MySQL-server-5.6.24-1.el6.x86_64.rpm\\n```\\n\uff082\uff09\u67e5\u770b\u4ea7\u751f\u7684\u968f\u673a\u5bc6\u7801\\n```\\n[root@hadoop102 mysql-libs]# cat /root/.mysql_secret\\nXrBwJEENp2yhVe4O\\n```\\n\uff083\uff09\u67e5\u770b MySQL \u72b6\u6001\\n```\\n[root@hadoop102 mysql-libs]# service mysql status\\n```\\n\uff084\uff09\u542f\u52a8 MySQL\\n```\\n[root@hadoop102 mysql-libs]# service mysql start\\n```\\n3\uff09\u5b89\u88c5 MySQL \u5ba2\u6237\u7aef\\n\uff081\uff09\u5b89\u88c5 MySQL \u5ba2\u6237\u7aef\\n```\\n[root@hadoop102 mysql-libs]# rpm -ivh MySQL-client-5.6.24-1.el6.x86_64.rpm\\n```\\n\uff082\uff09\u94fe\u63a5 MySQL \\n```\\n[root@hadoop102 mysql-libs]# mysql -uroot -pXrBwJEENp2yhVe4O\\n```\\n\uff083\uff09\u4fee\u6539\u5bc6\u7801\\n```\\nmysql>SET PASSWORD=PASSWORD(\'000000\');\\n```\\n\uff084\uff09\u9000\u51fa MySQL\\n```\\nmysql>exit\\n```\\n4\uff09MySQL \u4e2d user \u8868\u4e2d\u4e3b\u673a\u914d\u7f6e\\n\\n\u914d\u7f6e\u53ea\u8981\u662froot\u7528\u6237+\u5bc6\u7801\uff0c\u5728\u4efb\u4f55\u4e3b\u673a\u4e0a\u90fd\u80fd\u767b\u5f55 MySQL \u6570\u636e\u5e93\u3002\\n\\n\uff081\uff09\u8fdb\u5165 MySQL\\n```\\n[root@hadoop102 mysql-libs]# mysql -uroot -p000000\\n```\\n\uff082\uff09\u663e\u793a\u6570\u636e\u5e93\\n```\\nmysql>show databases;\\n```\\n\uff083\uff09\u4f7f\u7528 MySQL \u6570\u636e\u5e93\\n```\\nmysql>use mysql;\\n```\\n\uff084\uff09\u5c55\u793a MySQL \u6570\u636e\u5e93\u4e2d\u7684\u6240\u6709\u8868\\n```\\nmysql>show tables;\\n```\\n\uff085\uff09\u5c55\u793a user \u8868\u7684\u7ed3\u6784\\n```\\nmysql>desc user;\\n```\\n\uff086\uff09\u67e5\u8be2 user \u8868\\n```\\nmysql>select User, Host, Password from user;\\n```\\n\uff087\uff09\u4fee\u6539 user \u8868\uff0c\u628a Host \u8868\u5185\u5bb9\u4fee\u6539\u4e3a %\\n```\\nmysql>update user set host=\'%\' where host=\'localhost\';\\n```\\n\uff088\uff09\u5220\u9664 root \u7528\u6237\u7684\u5176\u4ed6 host\\n```\\nmysql>\\ndelete from user where Host=\'hadoop102\';\\ndelete from user where Host=\'127.0.0.1\';\\ndelete from user where Host=\'::1\';\\n```\\n\uff089\uff09\u5237\u65b0\\n```\\nmysql>flush privileges;\\n```\\n\uff0810\uff09\u9000\u51fa\\n```\\nmysql>quit;\\n```\\n\\n## \u5b89\u88c5 Ambari\\n\\n1\uff09\u5b89\u88c5 ambari-server\\n```\\n [root@hadoop102 hdp]# yum install ambari-server\\n```\\n2\uff09 \u62f7\u8d1d mysql \u9a71\u52a8\\n\u5c06 mysql-connector-java.jar \u590d\u5236\u5230 /usr/share/java \u76ee\u5f55\u4e0b\u5e76\u6539\u540d\u4e3a mysql-connector-java.jar\\n```\\n[root@hadoop102 hdp]# mkdir /usr/share/java\\n\\n[root@hadoop102 hdp]# cp /opt/software/mysql-libs/mysql-connector-java-5.1.27/mysql-connector-java-5.1.27-bin.jar /usr/share/java/mysql-connector-java.jar\\n```\\n\u5c06 mysql-connector-java.jar \u590d\u5236\u5230 /var/lib/ambari-server/resources \u76ee\u5f55\u4e0b\u5e76\u6539\u540d\u4e3a mysql-jdbc-driver.jar\\n```\\n[root@hadoop102 hdp]# cp /usr/share/java/mysql-connector-java.jar /var/lib/ambari-server/resources/mysql-jdbc-driver.jar\\n```\\n\u4fee\u6539 ambari.properties \u6587\u4ef6\\n```\\n[root@hadoop102 hdp]#\\nvim\\t /etc/ambari-server/conf/ambari.properties\\n```\\n\u6dfb\u52a0\\n```\\nserver.jdbc.driver.path=/usr/share/java/mysql-connector-java.jar\\n```\\n\\n## \u5728 MySQL\u4e2d \u521b\u5efa\u6570\u636e\u5e93\\n\\n1\uff09\u521b\u5efa ambari \u5e93\\n```\\n[root@hadoop102 hdp]# mysql -u root -p000000 \\nmysql >create database ambari; \\n```\\n2\uff09\u4f7f\u7528 Ambari \u81ea\u5e26\u811a\u672c\u521b\u5efa\u8868\\n```\\nmysql >use ambari; \\nmysql>source /var/lib/ambari-server/resources/Ambari-DDL-MySQL-CREATE.sql;\\n```\\n3\uff09\u8d4b\u4e88\u7528\u6237 root \u6743\u9650\uff1a\\n```\\nmysql> grant all privileges on *.* to \'root\'@\'%\' identified by \'000000\'; \\n```\\n4\uff09\u5237\u65b0\\n```\\nmysql> flush privileges;\\n```\\n\\n## \u914d\u7f6e Ambari\\n\\n\u6267\u884c\\n```\\n[root@hadoop102 hdp]# ambari-server setup\\n```\\n\u4e0b\u9762\u662f\u914d\u7f6e\u6267\u884c\u6d41\u7a0b\uff0c\u6309\u7167\u63d0\u793a\u64cd\u4f5c\\n1\uff09 \u63d0\u793a\u662f\u5426\u81ea\u5b9a\u4e49\u8bbe\u7f6e\u3002\u8f93\u5165\uff1ay\\n```\\nCustomize user account for ambari-server daemon [y/n] (n)? y\\n```\\n2\uff09ambari-server \u8d26\u53f7\u3002\\n```\\nEnter user account for ambari-server daemon (root):\\n```\\n\u5982\u679c\u76f4\u63a5\u56de\u8f66\u5c31\u662f\u9ed8\u8ba4\u9009\u62e9 root \u7528\u6237\\n3\uff09\u8bbe\u7f6e JDK \u3002\u8f93\u5165\uff1a3\\n```\\nChecking JDK...\\nDo you want to change Oracle JDK [y/n] (n)? y\\n[1] Oracle JDK 1.8 + Java Cryptography Extension (JCE) Policy Files 8\\n[2] Oracle JDK 1.7 + Java Cryptography Extension (JCE) Policy Files 7\\n[3] Custom JDK\\n==============================================================================\\nEnter choice (1): 3\\n```\\n\u5982\u679c\u4e0a\u9762\u9009\u62e9 3 \u81ea\u5b9a\u4e49 JDK ,\u5219\u9700\u8981\u8bbe\u7f6e JAVA_HOME \u3002\\n```\\n\u8f93\u5165\uff1a/opt/module/jdk1.8.0_144\\nWARNING: JDK must be installed on all hosts and JAVA_HOME must be valid on all hosts.\\nWARNING: JCE Policy files are required for configuring Kerberos security. If you plan to use Kerberos,please make sure JCE Unlimited Strength Jurisdiction Policy Files are valid on all hosts.\\nPath to JAVA_HOME: /opt/module/jdk1.8.0_144\\nValidating JDK on Ambari Server...done.\\nCompleting setup...\\n```\\n4\uff09\u6570\u636e\u5e93\u914d\u7f6e\u3002\u9009\u62e9\uff1ay\\n```\\nConfiguring database...\\nEnter advanced database configuration [y/n] (n)? y\\n```\\n5\uff09\u9009\u62e9\u6570\u636e\u5e93\u7c7b\u578b\u3002\u8f93\u5165\uff1a3\\n```\\nConfiguring database...\\n==============================================================================\\nChoose one of the following options:\\n[1] - PostgreSQL (Embedded)\\n[2] - Oracle\\n[3] - MySQL\\n[4] - PostgreSQL\\n[5] - Microsoft SQL Server (Tech Preview)\\n[6] - SQL Anywhere\\n==============================================================================\\nEnter choice (3): 3\\n```\\n6\uff09\u8bbe\u7f6e\u6570\u636e\u5e93\u7684\u5177\u4f53\u914d\u7f6e\u4fe1\u606f\uff0c\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u8f93\u5165\uff0c\u5982\u679c\u548c\u62ec\u53f7\u5185\u76f8\u540c\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u56de\u8f66\u3002\u5982\u679c\u60f3\u91cd\u547d\u540d\uff0c\u5c31\u8f93\u5165\u3002\\n```\\nHostname (localhost):hadoop102\\nPort (3306):\\nDatabase name (ambari):\\nUsername (ambari):root\\nEnter Database Password (bigdata):000000\uff08\u8fd9\u91cc\u4e0d\u663e\u793a\uff09\\nRe-Enter password:000000\\n```\\n7\uff09\u5c06 Ambari \u6570\u636e\u5e93\u811a\u672c\u5bfc\u5165\u5230\u6570\u636e\u5e93\\n```\\nWARNING: Before starting Ambari Server, you must run the following DDL against the database to create the schema: /var/lib/ambari-server/resources/Ambari-DDL-MySQL-CREATE.sql \\nProceed with configuring remote database connection properties [y/n] (y)?\\n```\\n\u5982\u679c\u4f7f\u7528\u81ea\u5df1\u5b9a\u4e49\u7684\u6570\u636e\u5e93\uff0c\u5fc5\u987b\u5728\u542f\u52a8 Ambari \u670d\u52a1\u4e4b\u524d\u5bfc\u5165 Ambari \u7684 sql \u811a\u672c\u3002\\n\\n## \u542f\u52a8 Ambari\\n\\n\\n\u542f\u52a8\u547d\u4ee4\u4e3a\uff1a\\n```\\nambari-server start\\n```\\n\u505c\u6b62\u547d\u4ee4\u4e3a\uff1a\\n```\\nambari-server stop\\n```\\n\\n# HDP \u96c6\u7fa4\u90e8\u7f72\\n\\n## \u96c6\u7fa4\u642d\u5efa\\n\\n### \u8fdb\u5165\u767b\u5f55\u9875\u9762\\n\\n\u6d4f\u89c8\u5668\u8f93\u5165 http://hadoop102:8080/\\n\u9ed8\u8ba4\u7ba1\u7406\u5458\u8d26\u76ee\u5bc6\u7801\uff1aadmin\\n\\n![image.png](https://img-blog.csdnimg.cn/img_convert/240b4f6c236314128f41bdefe1459a63.png)\\n\\n### \u70b9\u51fb Launch Install Wizard\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-T2Gjsyfm-1603158899563)(https://www.rookiegao.top/upload/2020/04/image-755fcfef2ae945aa87f6eb5051946bf3.png)]\\n\\n\\n### \u8bbe\u7f6e\u96c6\u7fa4\u540d\u79f0\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-W7azVECe-1603158899565)(https://www.rookiegao.top/upload/2020/04/image-7ab5ebc1fb864aec88b163cd5d59a10e.png)]\\n\\n### \u9009\u62e9\u7248\u672c\u548c\u5b58\u50a8\u5e93\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-pUT8O4ZW-1603158899568)(https://www.rookiegao.top/upload/2020/04/image-1aeff24eef1648b987b6b170639c2cbd.png)]\\n\\n### \u586b\u5199\u672c\u5730\u5e93\u5730\u5740\\n\\n\u5728 redhat6 \u540e\u9762\u5206\u522b\u586b\u5199\\nhttp://hadoop102/hdp/HDP/centos6/\\nhttp://hadoop102/hdp/\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-X1ZdLTrG-1603158899569)(https://www.rookiegao.top/upload/2020/04/image-b59b078b8651406dbacfb2124f474b93.png)]\\n\\n### \u586b\u5199\u4e3b\u673a\u5730\u5740\u4ee5\u53ca\u4e3b\u8282\u70b9\u7684 id.rsa \u6587\u4ef6\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-pNsOUyCZ-1603158899571)(https://www.rookiegao.top/upload/2020/04/image-b8ec2e89e4d248839987d9ab65883286.png)]\\n\\n### \u7b49\u5f85\u5b89\u88c5\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-8HHJly8I-1603158899572)(https://www.rookiegao.top/upload/2020/04/image-4266c2e0dd9442b991e485636348d702.png)]\\n\\n\\n### \u9009\u62e9\u670d\u52a1\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-SPrAYQ4O-1603158899573)(https://www.rookiegao.top/upload/2020/04/image-d6cea6871a304aa5b5d4d5facf894e8b.png)]\\n\\n### \u9009\u62e9\u6bcf\u53f0\u673a\u5668\u7684\u89d2\u8272\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-5yu1iE6v-1603158899574)(https://www.rookiegao.top/upload/2020/04/image-59468675b6634b5a8aa2183d1f04cdb5.png)]\\n\\n### \u8bbe\u7f6e\u4ece\u8282\u70b9\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-14ORKozf-1603158899574)(https://www.rookiegao.top/upload/2020/04/image-35e11c10abde44049645bbb96f46deba.png)]\\n\\n### \u8f93\u5165\u4e24\u6b21 admin\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-nPiUewb4-1603158899575)(https://www.rookiegao.top/upload/2020/04/image-eefe8bb08f6a4f479ba43aa6a43d6baf.png)]\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-1e640xEp-1603158899576)(https://www.rookiegao.top/upload/2020/04/image-6a5f1d33e4314507ba38ea21ac006da0.png)]\\n\\n### \u7ee7\u7eed\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-9F2GWUJX-1603158899577)(https://www.rookiegao.top/upload/2020/04/image-6113b07b522b4fb49cc5473cbedbef05.png)]\\n\\n### \u7b49\u5f85\u670d\u52a1\u5b89\u88c5\u548c\u542f\u52a8\\n\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-FhjfK6eQ-1603158899578)(https://www.rookiegao.top/upload/2020/04/image-6f3f5fbd64fc4bc7b773bbe5519bc53e.png)]\\n\\n## \u5b89\u88c5 Hive\\n\\n### \u5728 /path/to/mysql/ \u76ee\u5f55\u4e0b\u653e\u7f6e Mysql \u9a71\u52a8\uff0c\u5e76\u91cd\u547d\u540d\u4e3a\uff1amysql-connector-java.jar\\n\\n```\\n[root@hadoop102 software]# mkdir -p /path/to/mysql/\\n[root@hadoop102 software]# cp /opt/software/mysql-libs/mysql-connector-java-5.1.27/mysql-connector-java-5.1.27-bin.jar  /path/to/mysql/mysql-connector-java.jar\\n\\n```\\n\\n### 4.2.2 \u6267\u884c ambari-server setup\\n\\n```\\n[root@hadoop102 software]# ambari-server setup --jdbc-db=mysql --jdbc-driver=/path/to/mysql/mysql-connector-java.jar\\n```\\n\\n### \u70b9\u51fb\u6dfb\u52a0\u670d\u52a1\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-J6JWAs8z-1603158899578)(https://www.rookiegao.top/upload/2020/04/image-cc3010276f944ff38841dbc51d18da49.png)]\\n\\n### \u9009\u62e9 hive\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-HM4TTIPL-1603158899579)(https://www.rookiegao.top/upload/2020/04/image-aa2cd722fcf044ea83c9ed00f3fe0235.png)]\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-lj8IWP8p-1603158899580)(https://www.rookiegao.top/upload/2020/04/image-1d824ca3c7b0408783a20ad45448797d.png)]\\n\\n### \u5206\u914d\u8282\u70b9\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-imHgz2oW-1603158899581)(https://www.rookiegao.top/upload/2020/04/image-59fae522da2d436dbccbe17ee1d02261.png)]\\n\\n### \u5206\u914d\u4ece\u5c5e\u548c\u5ba2\u6237\u7aef\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-4f7ohA3Q-1603158899583)(https://www.rookiegao.top/upload/2020/04/image-efcb5fa8560447a9a4dec92de8b547ac.png)]\\n\\n### \u914d\u7f6e hive \u6570\u636e\u5e93\u8fde\u63a5\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-EgPhbXIH-1603158899584)(https://www.rookiegao.top/upload/2020/04/image-cee5c5dea12340599d86056bababcf16.png)]\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-jHiZFz8h-1603158899585)(https://www.rookiegao.top/upload/2020/04/image-4a5992294a7c47a786497d34a27603dd.png)]\\n\\n### \u70b9\u51fb\u4e0b\u4e00\u6b65\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-ERZKSZoJ-1603158899586)(https://www.rookiegao.top/upload/2020/04/image-48a26d04846747319a287f00611d0ff6.png)]\\n\\n### \u7b49\u5f85\u5b89\u88c5\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-vqDLlKlu-1603158899587)(https://www.rookiegao.top/upload/2020/04/image-f43e454b6bfa4f9ab2afb99382260b59.png)]\\n\\n## \u914d\u7f6e HDFS-HA\\n\\n### \u6dfb\u52a0\u670d\u52a1\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-nAEOXeZq-1603158899588)(https://www.rookiegao.top/upload/2020/04/image-8af79aecd6f2438789f443e2f15e4e3a.png)]\\n\\n### \u586b\u5199 nameservice \u540d\u79f0\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-EwgVfUuJ-1603158899588)(https://www.rookiegao.top/upload/2020/04/image-89533cac0c964b67928a44cb56ef4357.png)]\\n\\n### \u89d2\u8272\u5206\u914d\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-1hRRKrx9-1603158899589)(https://www.rookiegao.top/upload/2020/04/image-793106bef20b4c00828d6528e6fe675c.png)]\\n\\n### \u76f4\u63a5\u4e0b\u4e00\u6b65\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-ewxayLjg-1603158899591)(https://www.rookiegao.top/upload/2020/04/image-af02556f77fd406e85af0ff1a01cd590.png)]\\n\\n### \u5b89\u88c5\u63d0\u793a\u6267\u884c\u547d\u4ee4\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-kTlK63ac-1603158899592)(https://www.rookiegao.top/upload/2020/04/image-adc1a4a53de449d2bfdd02ba5a0323e8.png)]\\n\\n### \u5b89\u88c5\u7ec4\u4ef6\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-pfiz5zRL-1603158899593)(https://www.rookiegao.top/upload/2020/04/image-179b5dba0e184d88b56c752514e863cf.png)]\\n\\n### \u6839\u636e\u9875\u9762\u63d0\u793a\u64cd\u4f5c\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-19VAhEJH-1603158899594)(https://www.rookiegao.top/upload/2020/04/image-108bc37ba1f841a7b427ffb0b63d0e3d.png)]\\n\\n### \u7b49\u5f85\u542f\u52a8\u7ec4\u4ef6\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-Ah7xsG0R-1603158899595)(https://www.rookiegao.top/upload/2020/04/image-f4c5e5dc1da9454a87a7c4f98ae6035e.png)]\\n\\n### \u5b89\u88c5\u9875\u9762\u63d0\u793a\u521d\u59cb\u5316 NameNode HA\\n\\n[\u5916\u94fe\u56fe\u7247\u8f6c\u5b58\u5931\u8d25,\u6e90\u7ad9\u53ef\u80fd\u6709\u9632\u76d7\u94fe\u673a\u5236,\u5efa\u8bae\u5c06\u56fe\u7247\u4fdd\u5b58\u4e0b\u6765\u76f4\u63a5\u4e0a\u4f20(img-gHUAFWHD-1603158899595)(https://www.rookiegao.top/upload/2020/04/image-9fe714719979426b9336e626ed9413d7.png)]\\n\\n### \u7b49\u5f85\u5b8c\u6210\\n\\n![image.png](https://img-blog.csdnimg.cn/img_convert/7207b64440f28a0e4bf62f00ca949ea0.png)\\n\\n**\u6ce8\uff1a\u56e0\u4e4b\u524d\u57df\u540d\u5230\u671f\uff0c\u6240\u4ee5\u90e8\u5206\u56fe\u7247\u4f1a\u5c55\u793a\u5931\u8d25\uff01**"}]}')}}]);