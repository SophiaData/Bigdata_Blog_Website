<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-1.0 plugin-docs plugin-id-default docs-doc-id-数据仓库/DataWareHouse_Blog/实时数仓理论基础">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">实时数仓理论基础 | Bigdata-Blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sophiadata.github.io/Bigdata_Blog_Website/docs/1.0/数据仓库/DataWareHouse_Blog/实时数仓理论基础"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="1.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.0"><meta data-rh="true" name="docsearch:version" content="1.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.0"><meta data-rh="true" property="og:title" content="实时数仓理论基础 | Bigdata-Blog"><meta data-rh="true" name="description" content="数据仓库概念"><meta data-rh="true" property="og:description" content="数据仓库概念"><link data-rh="true" rel="icon" href="/Bigdata_Blog_Website/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sophiadata.github.io/Bigdata_Blog_Website/docs/1.0/数据仓库/DataWareHouse_Blog/实时数仓理论基础"><link data-rh="true" rel="alternate" href="https://sophiadata.github.io/Bigdata_Blog_Website/docs/1.0/数据仓库/DataWareHouse_Blog/实时数仓理论基础" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://sophiadata.github.io/Bigdata_Blog_Website/en/docs/1.0/数据仓库/DataWareHouse_Blog/实时数仓理论基础" hreflang="en"><link data-rh="true" rel="alternate" href="https://sophiadata.github.io/Bigdata_Blog_Website/docs/1.0/数据仓库/DataWareHouse_Blog/实时数仓理论基础" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/Bigdata_Blog_Website/blog/rss.xml" title="Bigdata-Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Bigdata_Blog_Website/blog/atom.xml" title="Bigdata-Blog Atom Feed">



<link rel="preconnect" href="https://mc.yandex.ru">
<script>!function(e,t,a,c,n,m,r){e.ym=e.ym||function(){(e.ym.a=e.ym.a||[]).push(arguments)},e.ym.l=1*new Date,m=t.createElement(a),r=t.getElementsByTagName(a)[0],m.async=1,m.src="https://mc.yandex.ru/metrika/tag.js",r.parentNode.insertBefore(m,r)}(window,document,"script"),ym(91340636,"init",{defer:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!1,ecommerce:!1,trackHash:!1})</script>
<noscript>
                            <div><img src="https://mc.yandex.ru/watch/91340636" style="position:absolute; left:-9999px;" alt=""></div>
                        </noscript><link rel="stylesheet" href="/Bigdata_Blog_Website/assets/css/styles.86a34ffa.css">
<link rel="preload" href="/Bigdata_Blog_Website/assets/js/runtime~main.4e89ca7d.js" as="script">
<link rel="preload" href="/Bigdata_Blog_Website/assets/js/main.0d5be6c2.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Bigdata_Blog_Website/"><div class="navbar__logo"><img src="/Bigdata_Blog_Website/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/Bigdata_Blog_Website/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Bigdata_Blog</b></a><a class="navbar__item navbar__link" href="/Bigdata_Blog_Website/docs/overview">Note</a><a class="navbar__item navbar__link" href="/Bigdata_Blog_Website/document/overview">Blog recommendation</a><a class="navbar__item navbar__link" href="/Bigdata_Blog_Website/learning/overview">Framework learning</a><a class="navbar__item navbar__link" href="/Bigdata_Blog_Website/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/SophiaData/Bigdata_Blog_Website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/Bigdata_Blog_Website/docs/1.0/数据仓库/DataWareHouse_Blog/实时数仓理论基础" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">简体中文</a></li><li><a href="/Bigdata_Blog_Website/en/docs/1.0/数据仓库/DataWareHouse_Blog/实时数仓理论基础" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/Bigdata_Blog_Website/docs/1.0/overview">1.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/Bigdata_Blog_Website/docs/next/overview">Next</a></li><li><a class="dropdown__link" href="/Bigdata_Blog_Website/docs/overview">1.1</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/Bigdata_Blog_Website/docs/1.0/数据仓库/DataWareHouse_Blog/实时数仓理论基础">1.0</a></li><li><a href="https://bigdata-note.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Old<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Bigdata_Blog_Website/docs/1.0/overview">Welcome to BigData Blog</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Bigdata_Blog_Website/docs/1.0/容器化/Kubernetes/Kubernetes 博文推荐">容器化</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Bigdata_Blog_Website/docs/1.0/工具配置/IDEA CheckStyle 配置">工具配置</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Bigdata_Blog_Website/docs/1.0/应用配置管理/ETCD/ETCD_Study">应用配置管理</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/Bigdata_Blog_Website/docs/1.0/数据仓库/DataWareHouse_Blog/Hbase与ClickHouse应用场景">数据仓库</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/Bigdata_Blog_Website/docs/1.0/数据仓库/DataWareHouse_Blog/Hbase与ClickHouse应用场景">DataWareHouse_Blog</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Bigdata_Blog_Website/docs/1.0/数据仓库/DataWareHouse_Blog/Hbase与ClickHouse应用场景">Hbase与ClickHouse应用场景</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Bigdata_Blog_Website/docs/1.0/数据仓库/DataWareHouse_Blog/实时数仓开发">实时数仓开发</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Bigdata_Blog_Website/docs/1.0/数据仓库/DataWareHouse_Blog/实时数仓理论基础">实时数仓理论基础</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Bigdata_Blog_Website/docs/1.0/数据仓库/DataWareHouse_Blog/数仓架构体系">数仓架构体系</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/Bigdata_Blog_Website/docs/1.0/数据仓库/DataWareHouse_Project/Datawarehouse project">DataWareHouse_Project</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Bigdata_Blog_Website/docs/1.0/数据库/Doris/Doris 博文推荐">数据库</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Bigdata_Blog_Website/docs/1.0/数据调度&amp;管理平台/Airflow/Airflow_Study">数据调度&amp;管理平台</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Bigdata_Blog_Website/docs/1.0/数据集成/Debezium/Debezium 博文推荐">数据集成</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Bigdata_Blog_Website/docs/1.0/消息系统/Pulsar/Pulsar 博文推荐">消息系统</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Bigdata_Blog_Website/docs/1.0/电子书/Open_Source_Book">电子书</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Bigdata_Blog_Website/docs/1.0/计算框架/Flink/A Scala-free Flink">计算框架</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/Bigdata_Blog_Website/docs/1.0/面试/Hive interview">面试</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>此为 <!-- -->Bigdata-Blog<!-- --> <b>1.0</b> 版的文档，现已不再积极维护。</div><div class="margin-top--md">最新的文档请参阅 <b><a href="/Bigdata_Blog_Website/docs/overview">最新版本</a></b> (<!-- -->1.1<!-- -->)。</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/Bigdata_Blog_Website/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">数据仓库</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">DataWareHouse_Blog</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">实时数仓理论基础</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本：1.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>实时数仓理论基础</h1><h1>数据仓库概述</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据仓库概念">数据仓库概念<a class="hash-link" href="#数据仓库概念" title="标题的直接链接">​</a></h2><p>数据仓库是一个为数据分析而设计的企业级数据管理系统。数据仓库可集中、整合多个信息源的大量数据，借助数据仓库的分析能力，企业可从数据中获得宝贵的信息进而改进决策。同时，随着时间的推移，数据仓库中积累的大量历史数据对于数据科学家和业务分析师也是十分宝贵的。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据仓库核心架构">数据仓库核心架构<a class="hash-link" href="#数据仓库核心架构" title="标题的直接链接">​</a></h2><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166153501-915f456b-b22c-4810-95b4-209239568655.png" alt="img" class="img_ev3q"></p><h1>数据仓库建模概述</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据仓库建模的意义">数据仓库建模的意义<a class="hash-link" href="#数据仓库建模的意义" title="标题的直接链接">​</a></h2><p>如果把数据看作图书馆里的书，我们希望看到它们在书架上分门别类地放置；如果把数据看作城市的建筑，我们希望城市规划布局合理；如果把数据看作电脑文件和文件夹，我们希望按照自己的习惯有很好的文件夹组织方式，而不是糟糕混乱的桌面，经常为找一个文件而不知所措。
数据模型就是数据组织和存储方法，它强调从业务、数据存取和使用角度合理存储数据。只有将数据有序的组织和存储起来之后，数据才能得到高性能、低成本、高效率、高质量的使用。</p><ul><li>高性能：良好的数据模型能够帮助我们快速查询所需要的数据。</li><li>低成本：良好的数据模型能减少重复计算，实现计算结果的复用，降低计算成本。</li><li>高效率：良好的数据模型能极大的改善用户使用数据的体验，提高使用数据的效率。</li><li>高质量：良好的数据模型能改善数据统计口径的混乱，减少计算错误的可能性</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据仓库建模方法论">数据仓库建模方法论<a class="hash-link" href="#数据仓库建模方法论" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="er模型">ER模型<a class="hash-link" href="#er模型" title="标题的直接链接">​</a></h3><p>数据仓库之父Bill Inmon提出的建模方法是从全企业的高度，用实体关系（Entity Relationship，ER）模型来描述企业业务，并用规范化的方式表示出来，在范式理论上符合3NF。
1）实体关系模型
实体关系模型将复杂的数据抽象为两个概念——实体和关系。实体表示一个对象，例如学生、班级，关系是指两个实体之间的关系，例如学生和班级之间的从属关系。
2）数据库规范化
数据库规范化是使用一系列范式设计数据库（通常是关系型数据库）的过程，其目的是减少数据冗余，增强数据的一致性。
这一系列范式就是指在设计关系型数据库时，需要遵从的不同的规范。关系型数据库的范式一共有六种，分别是第一范式（1NF）、第二范式（2NF）、第三范式（3NF）、巴斯-科德范式（BCNF）、第四范式(4NF）和第五范式（5NF）。遵循的范式级别越高，数据冗余性就越低。
3）三范式
（1）函数依赖</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166153683-7dec074a-908e-4300-b5c5-e2bbcecca226.png" alt="img" class="img_ev3q"></p><p>（2）第一范式</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166153729-fb85329b-75d2-4898-bcb0-bd24d73b304e.png" alt="img" class="img_ev3q"></p><p>（3）第二范式</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166153754-b30c4bd1-b4d9-4010-889c-1c1818f13f78.png" alt="img" class="img_ev3q"></p><p>（4）第三范式</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166153773-bf01a21b-57b1-4e74-b83e-8f1f9dcd8d92.png" alt="img" class="img_ev3q"></p><p>下图为一个采用Bill Inmon倡导的建模方法构建的模型，从图中可以看出，较为松散、零碎，物理表数量多。</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166153789-a9bbf3a5-b194-489f-9441-7b68ed305c4a.png" alt="img" class="img_ev3q"></p><p>这种建模方法的出发点是整合数据，其目的是将整个企业的数据进行组合和合并，并进行规范处理，减少数据冗余性，保证数据的一致性。这种模型并不适合直接用于分析统计。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="维度模型">维度模型<a class="hash-link" href="#维度模型" title="标题的直接链接">​</a></h3><p>数据仓库领域的令一位大师——Ralph Kimball倡导的建模方法为维度建模。维度模型将复杂的业务通过事实和维度两个概念进行呈现。事实通常对应业务过程，而维度通常对应业务过程发生时所处的环境。
注：业务过程可以概括为一个个不可拆分的行为事件，例如电商交易中的下单，取消订单，付款，退单等，都是业务过程。
下图为一个典型的维度模型，其中位于中心的SalesOrder为事实表，其中保存的是下单这个业务过程的所有记录。位于周围每张表都是维度表，包括Date（日期），Customer（顾客），Product（产品），Location（地区）等，这些维度表就组成了每个订单发生时所处的环境，即何人、何时、在何地下单了何种产品。从图中可以看出，模型相对清晰、简洁。</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166153809-7085f05c-211b-4913-afb2-e09269acadf5.png" alt="img" class="img_ev3q"></p><p>维度建模以数据分析作为出发点，为数据分析服务，因此它关注的重点的用户如何更快的完成需求分析以及如何实现较好的大规模复杂查询的响应性能。</p><h1>维度建模理论之事实表</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="事实表概述">事实表概述<a class="hash-link" href="#事实表概述" title="标题的直接链接">​</a></h2><p>事实表作为数据仓库维度建模的核心，紧紧围绕着业务过程来设计。其包含与该业务过程有关的维度引用（维度表外键）以及该业务过程的度量（通常是可累加的数字类型字段）。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="事实表特点">事实表特点<a class="hash-link" href="#事实表特点" title="标题的直接链接">​</a></h3><p>事实表通常比较“细长”，即列较少，但行较多，且行的增速快。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="事实表分类">事实表分类<a class="hash-link" href="#事实表分类" title="标题的直接链接">​</a></h3><p>事实表有三种类型：分别是事务事实表、周期快照事实表和累积快照事实表，每种事实表都具有不同的特点和适用场景，下面逐个介绍。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="事务型事实表">事务型事实表<a class="hash-link" href="#事务型事实表" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="概述">概述<a class="hash-link" href="#概述" title="标题的直接链接">​</a></h3><p>事务事实表用来记录各业务过程，它保存的是各业务过程的原子操作事件，即最细粒度的操作事件。粒度是指事实表中一行数据所表达的业务细节程度。
事务型事实表可用于分析与各业务过程相关的各项统计指标，由于其保存了最细粒度的记录，可以提供最大限度的灵活性，可以支持无法预期的各种细节层次的统计需求。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="设计流程">设计流程<a class="hash-link" href="#设计流程" title="标题的直接链接">​</a></h3><p>设计事务事实表时一般可遵循以下四个步骤：
选择业务过程→声明粒度→确认维度→确认事实</p><p>1）选择业务过程
在业务系统中，挑选我们感兴趣的业务过程，业务过程可以概括为一个个不可拆分的行为事件，例如电商交易中的下单，取消订单，付款，退单等，都是业务过程。通常情况下，一个业务过程对应一张事务型事实表。</p><p>2）声明粒度
业务过程确定后，需要为每个业务过程声明粒度。即精确定义每张事务型事实表的每行数据表示什么，应该尽可能选择最细粒度，以此来应各种细节程度的需求。
典型的粒度声明如下：
订单事实表中一行数据表示的是一个订单中的一个商品项。</p><p>3）确定维度
确定维度具体是指，确定与每张事务型事实表相关的维度有哪些。
确定维度时应尽量多的选择与业务过程相关的环境信息。因为维度的丰富程度就决定了维度模型能够支持的指标丰富程度。</p><p>4）确定事实
此处的“事实”一词，指的是每个业务过程的度量值（通常是可累加的数字类型的值，例如：次数、个数、件数、金额等）。
经过上述四个步骤，事务型事实表就基本设计完成了。第一步选择业务过程可以确定有哪些事务型事实表，第二步可以确定每张事务型事实表的每行数据是什么，第三步可以确定每张事务型事实表的维度外键，第四步可以确定每张事务型事实表的度量值字段。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="不足">不足<a class="hash-link" href="#不足" title="标题的直接链接">​</a></h3><p>事务型事实表可以保存所有业务过程的最细粒度的操作事件，故理论上其可以支撑与各业务过程相关的各种统计粒度的需求。但对于某些特定类型的需求，其逻辑可能会比较复杂，或者效率会比较低下。例如：</p><p>1）存量型指标
例如商品库存，账户余额等。此处以电商中的虚拟货币为例，虚拟货币业务包含的业务过程主要包括获取货币和使用货币，两个业务过程各自对应一张事务型事实表，一张存储所有的获取货币的原子操作事件，另一张存储所有使用货币的原子操作事件。</p><p>假定现有一个需求，要求统计截至当日的各用户虚拟货币余额。由于获取货币和使用货币均会影响到余额，故需要对两张事务型事实表进行聚合，且需要区分两者对余额的影响（加或减），另外需要对两张表的全表数据聚合才能得到统计结果。
可以看到，不论是从逻辑上还是效率上考虑，这都不是一个好的方案。</p><p>2）多事务关联统计
例如，现需要统计最近30天，用户下单到支付的时间间隔的平均值。统计思路应该是找到下单事务事实表和支付事务事实表，过滤出最近30天的记录，然后按照订单id对两张事实表进行关联，之后用支付时间减去下单时间，然后再求平均值。</p><p>逻辑上虽然并不复杂，但是其效率较低，应为下单事务事实表和支付事务事实表均为大表，大表join大表的操作应尽量避免。
可以看到，在上述两种场景下事务型事实表的表现并不理想。下面要介绍的另外两种类型的事实表就是为了弥补事务型事实表的不足的。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="周期型快照事实表">周期型快照事实表<a class="hash-link" href="#周期型快照事实表" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="概述-1">概述<a class="hash-link" href="#概述-1" title="标题的直接链接">​</a></h3><p>周期快照事实表以具有规律性的、可预见的时间间隔来记录事实，主要用于分析一些存量型（例如商品库存，账户余额）或者状态型（空气温度，行驶速度）指标。</p><p>对于商品库存、账户余额这些存量型指标，业务系统中通常就会计算并保存最新结果，所以定期同步一份全量数据到数据仓库，构建周期型快照事实表，就能轻松应对此类统计需求，而无需再对事务型事实表中大量的历史记录进行聚合了。
对于空气温度、行驶速度这些状态型指标，由于它们的值往往是连续的，我们无法捕获其变动的原子事务操作，所以无法使用事务型事实表统计此类需求。而只能定期对其进行采样，构建周期型快照事实表。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="设计流程-1">设计流程<a class="hash-link" href="#设计流程-1" title="标题的直接链接">​</a></h3><p>1）确定粒度
周期型快照事实表的粒度可由采样周期和维度描述，故确定采样周期和维度后即可确定粒度。
采样周期通常选择每日。
维度可根据统计指标决定，例如指标为统计每个仓库中每种商品的库存，则可确定维度为仓库和商品。
确定完采样周期和维度后，即可确定该表粒度为每日-仓库-商品。</p><p>2）确认事实
事实也可根据统计指标决定，例如指标为统计每个仓库中每种商品的库存，则事实为商品库存。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="事实类型">事实类型<a class="hash-link" href="#事实类型" title="标题的直接链接">​</a></h3><p>此处的事实类型是指度量值的类型，而非事实表的类型。事实（度量值）共分为三类，分别是可加事实，半可加事实和不可加事实。</p><p>1）可加事实
可加事实是指可以按照与事实表相关的所有维度进行累加，例如事务型事实表中的事实。</p><p>2）半可加事实
半可加事实是指只能按照与事实表相关的一部分维度进行累加，例如周期型快照事实表中的事实。以上述各仓库中各商品的库存每天快照事实表为例，这张表中的库存事实可以按照仓库或者商品维度进行累加，但是不能按照时间维度进行累加，因为将每天的库存累加起来是没有任何意义的。</p><p>3）不可加事实
不可加事实是指完全不具备可加性，例如比率型事实。不可加事实通常需要转化为可加事实，例如比率可转化为分子和分母。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="累积型快照事实表">累积型快照事实表<a class="hash-link" href="#累积型快照事实表" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="概述-2">概述<a class="hash-link" href="#概述-2" title="标题的直接链接">​</a></h3><p>累计快照事实表是基于一个业务流程中的多个关键业务过程联合处理而构建的事实表，如交易流程中的下单、支付、发货、确认收货业务过程。
累积型快照事实表通常具有多个日期字段，每个日期对应业务流程中的一个关键业务过程（里程碑）。</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166153894-25418c7d-1ef2-4000-bdf2-f3fe2ef65ec5.png" alt="img" class="img_ev3q"></p><p>累积型快照事实表主要用于分析业务过程（里程碑）之间的时间间隔等需求。例如前文提到的用户下单到支付的平均时间间隔，使用累积型快照事实表进行统计，就能避免两个事务事实表的关联操作，从而变得十分简单高效。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="设计流程-2">设计流程<a class="hash-link" href="#设计流程-2" title="标题的直接链接">​</a></h3><p>累积型快照事实表的设计流程同事务型事实表类似，也可采用以下四个步骤，下面重点描述与事务型事实表的不同之处。
选择业务过程→声明粒度→确认维度→确认事实。</p><p>1）选择业务过程
选择一个业务流程中需要关联分析的多个关键业务过程，多个业务过程对应一张累积型快照事实表。</p><p>2）声明粒度
精确定义每行数据表示的是什么，尽量选择最小粒度。</p><p>3）确认维度
选择与各业务过程相关的维度，需要注意的是，每各业务过程均需要一个日期维度。</p><p>4）确认事实
选择各业务过程的度量值。</p><h1>维度建模理论之维度表</h1><p>在电商离线数仓中，普通维度表是通过主维表和相关维表做关联查询生成的。与之对应的业务数表数据是通过每日一次全量同步导入到 HDFS 的，只须每日做一次全量数据的关联查询即可。而实时数仓中，系统上线后我们采集的是所有表的变化数据，这样就会导致一旦主维表或相关维表中的某张表数据发生了变化，就需要和其它表的历史数据做关联。
此时我们会面临一个问题：如何获取历史数据？</p><p>对于这个问题，一种思路是在某张与维度表相关的业务表数据发生变化时，执行一次 maxwell-bootstrap 命令，将相关业务表的数据导入 Kafka。但是这样做又会面临三个问题：</p><p>a）Kafka 中存储冗余数据；</p><p>b）maxwell-bootstrap 命令交给谁去执行？必然会面临谁去调度的问题；</p><p>c）实时数仓中的数据是以流的形式存在的，如果不同流中数据进入程序的机器时间差异过大就会出现 join 不上的情况。</p><p>如何保证导入的历史数据和变化数据可以关联上？势必要尽可能及时地执行历史数据导入命令且在 Flink 程序中设置足够的延迟。而前者难以保证，后者又会影响整个实时数仓的时效性。
基于上述分析，对业务表做 join 形成维度表的方式并不适用于实时数仓。</p><p>因此，在实时数仓中，我们不再对业务数据库中的维度表进行合并，仅对一些不需要的字段进行过滤，然后将维度数据写入 HBase 的维度表中，业务数据库的维度表和 HBase 的维度表是一一对应的。
写入维度数据使用 HBase 的 Phoenix 客户端提供的 upsert 语法，实现幂等写入。当维度数据发生变化时，程序会用变化后的新数据覆盖 Phoenix 维表中相同主键的旧数据。从而保证 Phoenix 表中保存的是一份全量最新的维度数据。</p><p>这样做会产生一个问题：实时数仓没有保存历史维度数据，与数仓特征（保存历史数据）相悖。那么，维度表可以按照上述思路设计吗？</p><p>首先，我们要明确：数仓之所以要保存历史数据，是为了运用历史数据做一些相关指标的计算，而实时数仓本就是对最新的业务数据做分析计算，不涉及历史数据，因此无须保存历史数据。</p><p>此外，生产环境中实时数仓的上线通常不会早于离线数仓，如果有涉及到历史数据的指标，在离线数仓中计算即可。因此，实时数仓中只需要保留一份最新的维度数据，上述方案是切实可行的。</p><p>特别地，对于字典表，我们至多只会用到 dic_code，dic_name 和 parent_code 三个字段，建立单独的维度表意义不大，选择将维度字段退化到事实表中。</p><h1>数据仓库设计</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据仓库分层规划">数据仓库分层规划<a class="hash-link" href="#数据仓库分层规划" title="标题的直接链接">​</a></h2><p>优秀可靠的数仓体系，需要良好的数据分层结构。合理的分层，能够使数据体系更加清晰，使复杂问题得以简化。以下是该项目的分层规划。</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166154067-ad7ffff4-3213-4a06-8c97-50815d18204c.png" alt="img" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据仓库构建流程">数据仓库构建流程<a class="hash-link" href="#数据仓库构建流程" title="标题的直接链接">​</a></h2><p>以下是构建数据仓库的完整流程。</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166154106-daec46b5-4a4b-43ed-896e-80cdd6363d57.png" alt="img" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="数据调研">数据调研<a class="hash-link" href="#数据调研" title="标题的直接链接">​</a></h3><p>数据调研重点要做两项工作，分别是业务调研和需求分析。这两项工作做的是否充分，直接影响着数据仓库的质量。</p><p>1）业务调研
业务调研的主要目标是熟悉业务流程、熟悉业务数据。</p><p>熟悉业务流程要求做到，明确每个业务的具体流程，需要将该业务所包含的每个业务过程一一列举出来。</p><p>熟悉业务数据要求做到，将数据（包括埋点日志和业务数据表）与业务过程对应起来，明确每个业务过程会对哪些表的数据产生影响，以及产生什么影响。产生的影响，需要具体到，是新增一条数据，还是修改一条数据，并且需要明确新增的内容或者是修改的逻辑。</p><p>下面业务电商中的交易为例进行演示，交易业务涉及到的业务过程有买家下单、买家支付、卖家发货，买家收货，具体流程如下图。</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166154147-9bde9ec9-9b9d-4a24-a5cc-263a15d68ef6.png" alt="img" class="img_ev3q"></p><p>2）需求分析
典型的需求指标如，最近一天各省份手机品类订单总额。</p><p>分析需求时，需要明确需求所需的业务过程及维度，例如该需求所需的业务过程就是买家下单，所需的维度有日期，省份，商品品类。</p><p>3）总结</p><p>做完业务分析和需求分析之后，要保证每个需求都能找到与之对应的业务过程及维度。若现有数据无法满足需求，则需要和业务方进行沟通，例如某个页面需要新增某个行为的埋点。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="明确数据域">明确数据域<a class="hash-link" href="#明确数据域" title="标题的直接链接">​</a></h3><p>数据仓库模型设计除横向的分层外，通常也需要根据业务情况进行纵向划分数据域。</p><p>划分数据域的意义是便于数据的管理和应用。</p><p>通常可以根据业务过程或者部门进行划分，本项目根据业务过程进行划分，需要注意的是一个业务过程只能属于一个数据域。</p><p>下面是本数仓项目所需的所有业务过程及数据域划分详情。</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166154195-f9be05e5-dc11-41f0-893b-f85a5b4b04a2.png" alt="img" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="构建业务总线矩阵">构建业务总线矩阵<a class="hash-link" href="#构建业务总线矩阵" title="标题的直接链接">​</a></h3><p>业务总线矩阵中包含维度模型所需的所有事实（业务过程）以及维度，以及各业务过程与各维度的关系。矩阵的行是一个个业务过程，矩阵的列是一个个的维度，行列的交点表示业务过程与维度的关系。</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166154224-b030d3f7-ce3d-4709-9509-788662abd7f5.png" alt="img" class="img_ev3q"></p><p>一个业务过程对应维度模型中一张事务型事实表，一个维度则对应维度模型中的一张维度表。所以构建业务总线矩阵的过程就是设计维度模型的过程。但是需要注意的是，总线矩阵中通常只包含事务型事实表，另外两种类型的事实表需单独设计。</p><p>按照事务型事实表的设计流程，选择业务过程 -&gt; 声明粒度 -&gt; 确认维度 -&gt; 确认事实，得到的最终的业务总线矩阵见以下表格。</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166154270-1bb0f57b-b5ff-4052-8539-00ee54a4c9de.png" alt="img" class="img_ev3q"></p><p>后续的DWD层以及DIM层的搭建需参考业务总线矩阵。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="明确统计指标">明确统计指标<a class="hash-link" href="#明确统计指标" title="标题的直接链接">​</a></h3><p>明确统计指标具体的工作是，深入分析需求，构建指标体系。构建指标体系的主要意义就是指标定义标准化。所有指标的定义，都必须遵循同一套标准，这样能有效的避免指标定义存在歧义，指标定义重复等问题。</p><p>1）指标体系相关概念</p><p>（1）原子指标
原子指标基于某一业务过程的度量值，是业务定义中不可再拆解的指标，原子指标的核心功能就是对指标的聚合逻辑进行了定义。我们可以得出结论，原子指标包含三要素，分别是业务过程、度量值和聚合逻辑。</p><p>例如订单总额就是一个典型的原子指标，其中的业务过程为用户下单、度量值为订单金额，聚合逻辑为sum()求和。需要注意的是原子指标只是用来辅助定义指标一个概念，通常不会对应有实际统计需求与之对应。</p><p>（2）派生指标
派生指标基于原子指标，其与原子指标的关系如下图所示。</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166154319-60edb2e6-43f9-4765-a280-9987ecbab8b1.png" alt="img" class="img_ev3q"></p><p>与原子指标不同，派生指标通常会对应实际的统计需求。请从图中的例子中，体会指标定义标准化的含义。</p><p>（3）衍生指标</p><p>衍生指标是在一个或多个派生指标的基础上，通过各种逻辑运算复合而成的。例如比率、比例等类型的指标。衍生指标也会对应实际的统计需求。</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166154343-e131d5b0-4257-4e48-a9c7-257928db5d82.png" alt="img" class="img_ev3q"></p><p>2）指标体系对于数仓建模的意义</p><p>通过上述两个具体的案例可以看出，绝大多数的统计需求，都可以使用原子指标、派生指标以及衍生指标这套标准去定义。同时能够发现这些统计需求都直接的或间接的对应一个或者是多个派生指标。</p><p>当统计需求足够多时，必然会出现部分统计需求对应的派生指标相同的情况。这种情况下，我们就可以考虑将这些公共的派生指标保存下来，这样做的主要目的就是减少重复计算，提高数据的复用性。</p><p>这些公共的派生指标统一保存在数据仓库的DWS层。因此DWS层设计，就可以参考我们根据现有的统计需求整理出的派生指标。</p><p>从上述指标体系中抽取出来的所有派生指标见如下表格。</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166154478-0a00e798-4fc0-4692-bf54-28d20f39f277.png" alt="img" class="img_ev3q"></p><p><img loading="lazy" src="https://user-images.githubusercontent.com/34996528/166154433-e3ad4e78-1b9d-4fde-be6c-b60a52e78dda.png" alt="img" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="维度模型设计">维度模型设计<a class="hash-link" href="#维度模型设计" title="标题的直接链接">​</a></h3><p>维度模型的设计参照上述得到的业务总线矩阵即可。事实表存储在DWD层，维度表存储在DIM层。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="汇总模型设计">汇总模型设计<a class="hash-link" href="#汇总模型设计" title="标题的直接链接">​</a></h3><p>汇总模型的设计参考上述整理出的指标体系（主要是派生指标）即可。</p><p>汇总表与派生指标的对应关系是，一张汇总表通常包含业务过程相同、统计周期相同、统计粒度相同的多个派生指标。</p><p>请思考：汇总表与事实表的对应关系是？</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->由 <b>xingjieshitu</b> <!-- -->于 <b><time datetime="2022-12-15T05:51:17.000Z">2022年12月15日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/Bigdata_Blog_Website/docs/1.0/数据仓库/DataWareHouse_Blog/实时数仓开发"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">实时数仓开发</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Bigdata_Blog_Website/docs/1.0/数据仓库/DataWareHouse_Blog/数仓架构体系"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">数仓架构体系</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#数据仓库概念" class="table-of-contents__link toc-highlight">数据仓库概念</a></li><li><a href="#数据仓库核心架构" class="table-of-contents__link toc-highlight">数据仓库核心架构</a></li><li><a href="#数据仓库建模的意义" class="table-of-contents__link toc-highlight">数据仓库建模的意义</a></li><li><a href="#数据仓库建模方法论" class="table-of-contents__link toc-highlight">数据仓库建模方法论</a><ul><li><a href="#er模型" class="table-of-contents__link toc-highlight">ER模型</a></li><li><a href="#维度模型" class="table-of-contents__link toc-highlight">维度模型</a></li></ul></li><li><a href="#事实表概述" class="table-of-contents__link toc-highlight">事实表概述</a><ul><li><a href="#事实表特点" class="table-of-contents__link toc-highlight">事实表特点</a></li><li><a href="#事实表分类" class="table-of-contents__link toc-highlight">事实表分类</a></li></ul></li><li><a href="#事务型事实表" class="table-of-contents__link toc-highlight">事务型事实表</a><ul><li><a href="#概述" class="table-of-contents__link toc-highlight">概述</a></li><li><a href="#设计流程" class="table-of-contents__link toc-highlight">设计流程</a></li><li><a href="#不足" class="table-of-contents__link toc-highlight">不足</a></li></ul></li><li><a href="#周期型快照事实表" class="table-of-contents__link toc-highlight">周期型快照事实表</a><ul><li><a href="#概述-1" class="table-of-contents__link toc-highlight">概述</a></li><li><a href="#设计流程-1" class="table-of-contents__link toc-highlight">设计流程</a></li><li><a href="#事实类型" class="table-of-contents__link toc-highlight">事实类型</a></li></ul></li><li><a href="#累积型快照事实表" class="table-of-contents__link toc-highlight">累积型快照事实表</a><ul><li><a href="#概述-2" class="table-of-contents__link toc-highlight">概述</a></li><li><a href="#设计流程-2" class="table-of-contents__link toc-highlight">设计流程</a></li></ul></li><li><a href="#数据仓库分层规划" class="table-of-contents__link toc-highlight">数据仓库分层规划</a></li><li><a href="#数据仓库构建流程" class="table-of-contents__link toc-highlight">数据仓库构建流程</a><ul><li><a href="#数据调研" class="table-of-contents__link toc-highlight">数据调研</a></li><li><a href="#明确数据域" class="table-of-contents__link toc-highlight">明确数据域</a></li><li><a href="#构建业务总线矩阵" class="table-of-contents__link toc-highlight">构建业务总线矩阵</a></li><li><a href="#明确统计指标" class="table-of-contents__link toc-highlight">明确统计指标</a></li><li><a href="#维度模型设计" class="table-of-contents__link toc-highlight">维度模型设计</a></li><li><a href="#汇总模型设计" class="table-of-contents__link toc-highlight">汇总模型设计</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Bigdata_Blog_Website/docs/overview">Overview</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/SophiaData/Bigdata_Blog_Website/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Bigdata_Blog_Website/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/SophiaData/Bigdata_Blog_Website" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 sophiadata, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/Bigdata_Blog_Website/assets/js/runtime~main.4e89ca7d.js"></script>
<script src="/Bigdata_Blog_Website/assets/js/main.0d5be6c2.js"></script>
</body>
</html>